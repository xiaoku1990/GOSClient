{"version":3,"sources":["webpack:///./src/view/home/environment.vue?18ce","webpack:///./src/view/home/environment.vue","webpack:///src/components/modules/charts/ringChart.vue","webpack:///./src/components/modules/charts/ringChart.vue?aeff","webpack:///./src/components/modules/charts/ringChart.vue","webpack:///src/components/modules/other/floorState.vue","webpack:///./src/components/modules/other/floorState.vue?ac2f","webpack:///./src/components/modules/other/floorState.vue","webpack:///./src/common/js/secondServe.js","webpack:///src/view/home/environment.vue"],"names":["home_environment","render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","dataArray","coChartDate","xField","yField","xName","yName","_v","title","value","coAverage","valueFormatter","maxValue","coAverageMaxValue","floorData","floorList","stateData","on","onLastFloor","nextFloor","onNextFloor","span","staticStyle","width","data","tableData","label","prop","align","current-page","userTableQuery","page","page-size","tablePageSize","page-count","tablePageTotal","layout","current-change","handleCurrentChange","update:currentPage","$event","$set","_s","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","environment","__webpack_exports__","ringChart","name","props","String","Number","Function","ringCharts","chartTrue","chartOption","grid","z","show","left","right","bottom","containLabel","splitLine","xAxis","type","axisLine","splitArea","interval","yAxis","toolbox","series","startAngle","endAngle","center","min","max","splitNumber","radius","lineStyle","color","axisTick","length","axisLabel","textStyle","pointer","itemStyle","normal","borderWidth","offsetCenter","fontSize","fontFamily","detail","formatter","opacity","fontWeight","barWidth","mounted","ringChartInit","computed","charResize","resize","store","state","vuexWidth","watch","val","updateChart","methods","$echarts","init","$refs","setOption","charts_ringChart","ref","model","callback","$$v","expression","floorState","Array","floorIndex","floorHasLast","floorHasNext","lastFloor","$emit","other_floorState","directives","rawName","click","floor_name","_l","item","style","border","back","background","borderRight","numberSize","vue","func","second","secondServeTaskFuncList","push","secondServeRunning","secondServeTask","runCount","taskFuncListNull","i","_isDestroyed","setTimeout","components","lineChart","__WEBPACK_IMPORTED_MODULE_2__components_modules_charts_lineChart__","__WEBPACK_IMPORTED_MODULE_3__components_modules_charts_ringChart__","floorStater","__WEBPACK_IMPORTED_MODULE_4__components_modules_other_floorState__","Object","__WEBPACK_IMPORTED_MODULE_0__common_js_common_js__","config","smallPageItemSize","userQuery","build_id","$BuildId","requestUrl","floorAreaListUrl","url","floorAreaList","environmentManagerUrl","environmentManager","environmentListUrl","environmentList","created","getFloorAreaList","index","floor_id","queryData","queryTableData","_this","formData","FormData","floorAreasQuery","append","$http","post","$Api","dataType","then","status","jsonData","result","floor_list","__WEBPACK_IMPORTED_MODULE_1__common_js_secondServe_js__","$message","message","duration","catch","error","$notify","_this2","param","co_chart","reverse","device_sum","co_average","co_highest","_this3","$","extend","environment_list","total_page"],"mappings":"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","file":"static/js/2.00b0a1b57a841191eaab.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"par-state main-padding\"},[_c('div',{staticClass:\"state-one\"},[_c('div',{staticClass:\"state-top\"},[_c('line-chart',{attrs:{\"dataArray\":_vm.coChartDate,\"xField\":\"time\",\"yField\":\"value\",\"xName\":\"小时\",\"yName\":\"ppm\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"state-bottom\"},[_c('ring-chart',{attrs:{\"title\":\"当前浓度\",\"value\":_vm.coAverage,\"valueFormatter\":\"{value} ppm\",\"maxValue\":_vm.coAverageMaxValue}})],1)]),_vm._v(\" \"),_c('div',{staticClass:\"state-tor\"},[_c('div',{staticClass:\"state-top\"},[_c('floor-stater',{attrs:{\"floorData\":_vm.floorList,\"stateData\":_vm.stateData},on:{\"onLastFloor\":_vm.nextFloor,\"onNextFloor\":_vm.nextFloor}})],1),_vm._v(\" \"),_c('div',{staticClass:\"state-bottom\"},[_c('el-col',{attrs:{\"span\":24}},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData}},[_c('el-table-column',{attrs:{\"label\":\"设备编号\",\"prop\":\"device_id\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"浓度/ppm\",\"prop\":\"device_co\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"温度/℃\",\"prop\":\"device_temp\",\"align\":\"center\",\"width\":\"\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.userTableQuery.page,\"page-size\":_vm.tablePageSize,\"page-count\":_vm.tablePageTotal,\"layout\":\"prev, pager, next, slot, jumper\"},on:{\"current-change\":_vm.handleCurrentChange,\"update:currentPage\":function($event){_vm.$set(_vm.userTableQuery, \"page\", $event)}}},[_c('span',{staticClass:\"el-pagination__total page-count-padding\"},[_vm._v(\"共\"+_vm._s(_vm.tablePageTotal)+\"页\")])])],1)],1)],1)])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-3e3d5f62\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/view/home/environment.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3e3d5f62\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./environment.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./environment.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./environment.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3e3d5f62\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./environment.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3e3d5f62\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/home/environment.vue\n// module id = null\n// module chunks = ","<template>\n\n  <div class=\"ring-chart\" v-model=\"charResize\" ref=\"ringChart\"></div>\n</template>\n\n<script>\n  import store from '../../../store/index'\n  export default {\n    name: \"ring-chart\",\n    props: {\n      title: String|Number,\n      value: String|Number,\n      valueFormatter: String|Function,\n      maxValue: Number|Number\n    },\n    data(){\n      return{\n        ringCharts:null,\n        chartTrue:false,\n        chartOption: {\n          // // backgroundColor: \"#2c343c\",\n          // legend: {     //配置legend，这里的data，要对应type为‘bar’的series数据项的‘name’名称，作为图例的说明\n          //   data:['第一阶段','第二阶段','第三阶段','第四阶段','第五阶段'],\n          //   selectedMode:false,  //图例禁止点击\n          //   top:20,\n          //   itemWidth:23,\n          //   itemHeight:6,\n          //   textStyle: {\n          //     color: '#707070',\n          //     fontStyle: 'normal',\n          //     fontWeight: 'normal',\n          //     fontFamily: 'sans-serif',\n          //     fontSize: 12\n          //   }\n          // },\n          grid: {\n            z:1,    //grid作为柱状图的坐标系，其层级要和仪表图层级不同，同时隐藏\n            show:false,\n            left: '-30%',\n            right: '4%',\n            bottom: '3%',\n            containLabel: true,\n            splitLine:{\n              show: false    //隐藏分割线\n            },\n          },\n          xAxis : [   //这里有很多的show，必须都设置成不显\n            {\n              type: 'category',\n              data: [],\n              axisLine: {\n                show: false\n              },\n              splitLine:{\n                show: false\n              },\n              splitArea: {\n                interval: 'auto',\n                show: false\n              }\n            }\n          ],\n          yAxis : [ //这里有很多的show，必须都设置成不显示\n            {\n              type : 'value',\n              axisLine: {\n                show: false\n              },\n              splitLine:{\n                show: false\n              },\n            }\n          ],\n          toolbox: {\n            show: false,\n          },\n          series : [\n            {\n              name:'刻度盘',\n              type: 'gauge',\n              startAngle: 180,\n              endAngle: 0,\n              center: [\"50%\", \"80%\"], //整体的位置设置\n              z: 3,\n              min: 0,\n              max: this.maxValue,\n              splitNumber: this.maxValue / 20,\n              radius: '90%',\n              axisLine: {            // 坐标轴线\n                lineStyle: {       // 属性lineStyle控制线条样式\n                  width: 10,\n                  color: [\n                    [0.2, '#41C468'],\n                    [0.4, '#70C1B3'],\n                    [0.6, '#00A1E9'],\n                    [0.8, '#EE4444'],\n                    [1, '#DCF2C4']\n                  ],\n                }\n              },\n              axisTick: {            // 坐标轴小标记\n                length: 19,        // 属性length控制线长\n                splitNumber: 2,\n                lineStyle: {       // 属性lineStyle控制线条样式\n                  color: '#cdcdcd'\n                }\n              },\n              splitLine: {           // 分隔线\n                length: 20,         // 属性length控制线长\n                lineStyle: {       // 属性lineStyle（详见lineStyle）控制线条样式\n                  color: 'auto'\n                }\n              },\n              axisLabel: {\n                textStyle: {\n                  color:'#454A57'\n                }\n              },\n              pointer: {\n                show: true,\n                length: '70%',\n                width: 5,\n              },\n              itemStyle:{\n                normal:{\n                  color:'#454A57',\n                  borderWidth:0\n                }\n              },\n              title: {   //仪表盘标题\n                show: true,\n                offsetCenter: ['0', '20'],\n                textStyle: {\n                  color: '#444A56',\n                  fontSize: 12,\n                  fontFamily: 'Microsoft YaHei'\n                }\n              },\n              detail: {\n                textStyle: {\n                  fontSize: 12,\n                  color: '#707070'\n                },\n                offsetCenter: [\"0%\", \"-50%\"],\n                formatter: this.valueFormatter\n              },\n              data:[{value: this.value, name: this.title}]\n            },\n            {\n              name: '灰色内圈',\n              type: 'gauge',\n              z:2,\n              radius: '90%',\n              startAngle: 180,\n              endAngle: 0,\n              center: [\"50%\", \"80%\"], //整体的位置设置\n              splitNumber: 4,\n              axisLine: { // 坐标轴线\n                lineStyle: { // 属性lineStyle控制线条样式\n                  color: [\n                    [1, '#ccc']\n                  ],\n                  width: 25,\n                  opacity: 1,\n                }\n              },\n              splitLine: { //分隔线样式\n                show: false,\n              },\n              axisLabel: { //刻度标签\n                show: false,\n              },\n              axisTick: { //刻度样式\n                show: false,\n              },\n              detail : {\n                show:false,\n                textStyle: {       // 其余属性默认使用全局文本样式，详见TEXTSTYLE\n                  fontWeight: 'bolder',\n                  fontSize:12\n                }\n              },\n            },\n            {\n              name:'第一阶段',\n              type:'bar',\n              barWidth: '60%',  //不显示，可以随便设置\n              data:[0],\n              itemStyle: {\n                normal: {\n                  color: '#41C468',  //这里的图例要注意，颜色设置和仪表盘的颜色对应起来\n                }\n              }\n            },\n            {\n              name:'第二阶段',\n              type:'bar',\n              barWidth: '60%',\n              data:[0],\n              itemStyle: {\n                normal: {\n                  color: '#70C1B3',\n                }\n              }\n            },\n            {\n              name:'第三阶段',\n              type:'bar',\n              barWidth: '60%',\n              data:[0],\n              itemStyle: {\n                normal: {\n                  color: '#00A1E9',\n                }\n              }\n            },\n            {\n              name:'第四阶段',\n              type:'bar',\n              barWidth: '60%',\n              data:[0],\n              itemStyle: {\n                normal: {\n                  color: '#EE4444',\n                }\n              }\n            },\n            {\n              name:'第五阶段',\n              type:'bar',\n              barWidth: '60%',\n              data:[0],\n              itemStyle: {\n                normal: {\n                  color: '#DCF2C4',\n                }\n              }\n            }\n          ]\n        }\n      }\n    },\n    mounted(){\n      this.ringChartInit();\n    },\n    computed:{\n      charResize(){\n        if(this.chartTrue){\n          this.ringCharts.resize();\n        }\n        return store.state.vuexWidth\n      }\n    },\n    watch: {\n      value: function(val) {\n        this.chartOption.series[0].data[0].value = val;\n        this.updateChart();\n        // console.log(\"更新 ring chart\")\n      }\n    },\n    methods:{\n      ringChartInit(){\n        this.ringCharts = this.$echarts.init(this.$refs.ringChart);\n        // 把配置和数据放这里\n        this.ringCharts.setOption(this.chartOption);\n        this.chartTrue=true\n      },\n      updateChart() {\n        this.ringCharts.setOption({ series : [{ data:[{ value: this.value }] }] });\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .ring-chart{\n    position: absolute;\n    height: 100%;\n    width: 100%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/modules/charts/ringChart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"ringChart\",staticClass:\"ring-chart\",model:{value:(_vm.charResize),callback:function ($$v) {_vm.charResize=$$v},expression:\"charResize\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-364bf3f0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/modules/charts/ringChart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-364bf3f0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./ringChart.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./ringChart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./ringChart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-364bf3f0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./ringChart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-364bf3f0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/modules/charts/ringChart.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"floor-state-top\">\n    <div class=\"state-round-s\">\n      <button class=\"button-left\" @click=\"lastFloor()\" v-show=\"floorHasLast\">\n        <i class=\"el-icon-arrow-left\"></i>\n      </button>\n      <div class=\"state-round\">{{floorData[floorIndex].floor_name}}\n        <div class=\"state-box\"></div>\n      </div>\n      <button class=\"button-right\" @click=\"nextFloor()\" v-show=\"floorHasNext\">\n        <i class=\"el-icon-arrow-right\"></i>\n      </button>\n    </div>\n    <div class=\"state-bottom\" >\n      <ul>\n        <li v-for=\"item in stateData\" :style=\"{border:'1px solid #'+item.back+''}\">\n          <span :style=\"{background:'#'+item.back+''}\"></span><i :style=\"{borderRight:'1px solid #'+item.back+''}\"></i>{{item.name}}: {{item.numberSize}}\n        </li>\n      </ul>\n    </div>\n  </div>\n</template>\n\n<script>\n  export default {\n    name: 'floor-state',\n    props: {\n      floorData: Array,\n      stateData: Array\n    },\n    watch: {\n      floorData(data) {\n        this.floorIndex = 0;\n        this.floorHasLast = false;\n        this.floorHasNext = (data.length > 1);\n      }\n    },\n    data() {\n      return {\n        floorIndex: 0,\n        floorHasLast: false,\n        floorHasNext: false\n      }\n    },\n    methods:{\n      lastFloor() {\n        this.floorIndex--;\n        this.floorHasLast = (this.floorIndex > 0);\n        this.floorHasNext = (this.floorIndex < this.floorData.length - 1);\n        // console.log(`floor State 左: ${this.floorIndex}/${this.floorData.length - 1}`);\n        this.$emit('onLastFloor', this.floorIndex);\n      },\n      nextFloor() {\n        this.floorIndex++;\n        this.floorHasLast = (this.floorIndex > 0);\n        this.floorHasNext = (this.floorIndex < this.floorData.length - 1);\n        // console.log(`floor State 右: ${this.floorIndex}/${this.floorData.length - 1}`);\n        this.$emit('onNextFloor', this.floorIndex);\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .floor-state-top{\n    display: flex;\n    flex: 5 0 auto;\n    flex-direction: row;\n    flex-direction: column;\n  }\n  .state-round-s{\n    flex: 5 0 auto;\n    align-items: center;\n    align-self: center;\n    display: flex;\n    flex-direction: row;\n    position: relative;\n  }\n  .state-round{\n    text-align: center;\n    line-height: 106px;\n    color: #fff;\n    font-size: 36px;\n    background: linear-gradient(180deg, #fdada2 0px, #ff999d 100%) center center / cover;\n    border-radius: 50%;\n    width: 106px;\n    height: 106px;\n    margin: 1% 0px 0px 1%;\n  }\n  .state-box{\n    height: 9px;\n    border-radius: 10px;\n    width: 77px;\n    margin: 0 auto;\n    -webkit-box-shadow: 0px 10px 10px #ffc4c8;\n    box-shadow: 0px 17px 19px #ffc4c8;\n    position: relative;\n    top: -15px;\n  }\n  .state-bottom{\n    flex: 5 0 auto;\n    background: #fff;\n    position: relative;\n    height:calc( 50% - 5px);\n    display: flex;\n    overflow-y: auto;\n    .block{\n      margin: 10px 0px;\n    }\n    ul{\n      transition:whith  0.4s;\n      width: 100%;\n      li{\n        margin: 0px 15% 10px 15%;\n        border-radius: 3px;\n        position: relative;\n        border-left: 0px !important;\n        width: 70%;\n        float: left;\n        padding: 5px 0px;\n        span{\n          border-radius: 50%;\n          display: inline-block;\n          height: 18px;\n          width: 18px;\n          border-radius: 50%;\n          display: inline-block;\n          position: absolute;\n          top: -1px;\n          left: -7px;\n          z-index: 2;\n        }\n        i{\n          display: inline-block;\n          width: 13px;\n          height: 22px;\n          position: absolute;\n          z-index: 1;\n          left: -2px;\n          top: 10px;\n          background: #fff;\n        }\n      }\n    }\n  }\n  .button-right{\n    position: absolute;\n    top: 40%;\n    right: -67px;\n    font-size: 28px;\n    border: none;\n    transform: translate(32%, -12%);\n    background: transparent;\n    &:hover{\n      color: #0000ff;\n    }\n  }\n  .button-left{\n    left: -102px;\n    position: absolute;\n    top: 48%;\n    font-size: 28px;\n    border: none;\n    transform: translate(51%, -51%);\n    background: transparent;\n    &:hover{\n      color: #0000ff;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/modules/other/floorState.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"floor-state-top\"},[_c('div',{staticClass:\"state-round-s\"},[_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.floorHasLast),expression:\"floorHasLast\"}],staticClass:\"button-left\",on:{\"click\":function($event){_vm.lastFloor()}}},[_c('i',{staticClass:\"el-icon-arrow-left\"})]),_vm._v(\" \"),_c('div',{staticClass:\"state-round\"},[_vm._v(_vm._s(_vm.floorData[_vm.floorIndex].floor_name)+\"\\n      \"),_c('div',{staticClass:\"state-box\"})]),_vm._v(\" \"),_c('button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.floorHasNext),expression:\"floorHasNext\"}],staticClass:\"button-right\",on:{\"click\":function($event){_vm.nextFloor()}}},[_c('i',{staticClass:\"el-icon-arrow-right\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"state-bottom\"},[_c('ul',_vm._l((_vm.stateData),function(item){return _c('li',{style:({border:'1px solid #'+item.back+''})},[_c('span',{style:({background:'#'+item.back+''})}),_c('i',{style:({borderRight:'1px solid #'+item.back+''})}),_vm._v(_vm._s(item.name)+\": \"+_vm._s(item.numberSize)+\"\\n      \")])}))])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-228eca1d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/modules/other/floorState.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-228eca1d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./floorState.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./floorState.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./floorState.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-228eca1d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./floorState.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-228eca1d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/modules/other/floorState.vue\n// module id = null\n// module chunks = ","let secondServeRunning = false;\nlet runCount = 0; //运行计数，防止太大，最大到0xFFFFFFFF\n\nconst secondServeTaskFuncList = [];\nconst secondServeTaskTimeout = 1000;\n\nconst secondServeTask = function () {\n  let taskFuncListNull = true;\n  // console.log(`[秒服务]: 我在运行，时间:${(new Date).getMinutes()}:${(new Date).getSeconds()}, 计数:${runCount}`);\n  for(let i in secondServeTaskFuncList) {\n    if(secondServeTaskFuncList[i].vue && !secondServeTaskFuncList[i].vue._isDestroyed) {  //只有在对应vue对象还存在的时候才调用他的任务\n      taskFuncListNull = false;\n      if(!(runCount % secondServeTaskFuncList[i].second)) {  //只有到本任务间隔时间才调用\n        // console.log(`run task \"${secondServeTaskFuncList[i].name}\"`)\n        secondServeTaskFuncList[i].func();\n      }\n    } else {\n      // console.log(`[秒服务]: \"${secondServeTaskFuncList[i].name}\"调用这个任务的vue不存在啦，于是我在任务列表里赶走它！`);\n      delete secondServeTaskFuncList[i];\n    }\n  }\n  runCount = ((runCount != 0xFFFFFFFF)? (runCount + 1) : 0);\n\n  if(taskFuncListNull) {\n    // console.log('[秒服务]: 没有任务，我就先去睡觉啦_(:3」∠)_');\n    secondServeRunning = false;\n    return;\n  }\n\n  setTimeout(() => {\n    secondServeTask();\n  }, secondServeTaskTimeout);\n};\n\n/**\n * 秒服务\n * @param vue: vue对象，初始化vue的时候传入this即可\n * @param name: 任务名，如果任务列表中存在同名将不再添加，用来防止重复\n * @param func: 任务函数，定时执行的就是它\n * @param second: 间隔时间，单位秒\n */\nexport function secondServe(vue, name, func, second) {\n  if(typeof(secondServeTaskFuncList[name]) !== 'undefined') {\n    // console.log(`[秒服务]: 已经有\"${secondServeTaskFuncList[name]}\"这个任务啦，不要重新添加人家啊!`)\n    return;\n  }\n\n  secondServeTaskFuncList.push({vue: vue, name: name, func: func, second: second });\n  if(!secondServeRunning) {\n    // console.log('[秒服务]: 有任务，人家起床干活啦！');\n    secondServeRunning = true;\n    secondServeTask();\n  } else {\n    // console.log('[秒服务]: 人家已经跑起来了，不要再催啦！');\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/secondServe.js","<template>\n  <div class=\"par-state main-padding\">\n    <div class=\"state-one\">\n      <div class=\"state-top\">\n        <!--表格-->\n        <line-chart\n          :dataArray=\"coChartDate\"\n          xField=\"time\"\n          yField=\"value\"\n          xName=\"小时\"\n          yName=\"ppm\"\n        ></line-chart>\n      </div>\n      <div class=\"state-bottom\">\n        <ring-chart\n          title=\"当前浓度\"\n          :value=\"coAverage\"\n          valueFormatter=\"{value} ppm\"\n          :maxValue=\"coAverageMaxValue\"\n        ></ring-chart>\n      </div>\n    </div>\n    <div class=\"state-tor\">\n      <div class=\"state-top\">\n        <floor-stater\n          :floorData=\"floorList\"\n          :stateData=\"stateData\"\n          @onLastFloor=\"nextFloor\"\n          @onNextFloor=\"nextFloor\"\n        ></floor-stater>\n      </div>\n      <div class=\"state-bottom\">\n\n        <el-col :span=\"24\">\n          <el-table\n            :data=\"tableData\"\n            style=\"width:100%;\">\n            <el-table-column\n              label=\"设备编号\"\n              prop=\"device_id\"\n              align=\"center\"\n              width=\"\">\n            </el-table-column>\n            <el-table-column\n              label=\"浓度/ppm\"\n              prop=\"device_co\"\n              align=\"center\"\n              width=\"\">\n            </el-table-column>\n            <el-table-column\n              label=\"温度/℃\"\n              prop=\"device_temp\"\n              align=\"center\"\n              width=\"\">\n            </el-table-column>\n          </el-table>\n          <div class=\"block\">\n            <el-pagination\n              @current-change=\"handleCurrentChange\"\n              :current-page.sync=\"userTableQuery.page\"\n              :page-size=\"tablePageSize\"\n              :page-count=\"tablePageTotal\"\n              layout=\"prev, pager, next, slot, jumper\">\n              <span class=\"el-pagination__total page-count-padding\">共{{tablePageTotal}}页</span>\n            </el-pagination>\n          </div>\n        </el-col>\n      </div>\n    </div>\n\n  </div>\n</template>\n\n<script>\n  import {common} from '../../common/js/common.js'\n  import {secondServe} from '../../common/js/secondServe.js'\n  import lineChart from '@/components/modules/charts/lineChart'\n  import ringChart from '@/components/modules/charts/ringChart'\n  import floorStater from '@/components/modules/other/floorState'\n\n  export default {\n    name: \"environment\",\n    components: {lineChart, ringChart, floorStater},\n    data() {\n      return {\n        stateData: [\n          {name: '总设备数', numberSize: '加载中...', back: '9ade31'},\n          {name: '平均浓度', numberSize: '加载中...', back: 'fbdc44'},\n          {name: '最高浓度', numberSize: '加载中...', back: 'f8aa2e'}\n        ],\n        floorList: [{floor_name: '...'}],\n        coChartDate: [{}],\n        coAverage: \"-1\", //待加载\n        coAverageMaxValue: common().config.coAverageMaxValue,\n        tableData: [],  //待加载\n        tablePageTotal: 0,\n        tablePageSize: common().config.smallPageItemSize,\n        userQuery: {\n          build_id: this.$BuildId,\n        },\n        userTableQuery: {\n          page: 1\n        },\n        requestUrl: {\n          floorAreaListUrl: common().url.floorAreaList,\n          environmentManagerUrl: common().url.environmentManager,\n          environmentListUrl: common().url.environmentList\n        }\n      }\n    },\n    created() {\n      this.getFloorAreaList();\n    },\n    mounted() {\n    },\n    methods: {\n      lastFloor(index) {\n        this.userQuery.floor_id = this.floorList[index].floor_id;\n        //console.log(`触发 floor ${this.userQuery.floor_id}, index: ${index}`);\n        this.queryData();\n        this.userTableQuery.page = 1;\n        this.queryTableData();\n      },\n      nextFloor(index) {\n        this.userQuery.floor_id = this.floorList[index].floor_id;\n        //console.log(`触发 floor ${this.userQuery.floor_id}, index: ${index}`);\n        this.queryData();\n        this.userTableQuery.page = 1;\n        this.queryTableData();\n      },\n      //分页\n      handleCurrentChange(val) {\n        //console.log(`当前页: ${val}`);\n        this.queryTableData();\n      },\n      getFloorAreaList() {\n        let formData = new FormData();\n        for (let i in this.floorAreasQuery) {\n          formData.append(i, this.floorAreasQuery[i]);\n        }\n        this.$http.post(this.$Api + this.requestUrl.floorAreaListUrl, formData, {dataType: 'json'})\n          .then(data => {\n            if (data.status == 200) {\n              let jsonData = data.data;\n              if ((typeof(jsonData.result) !== 'undefined') && (jsonData.result == 1)) {\n                this.floorList = jsonData.floor_list;\n                this.userQuery.floor_id = this.floorList[0].floor_id;\n                this.queryData();\n                this.queryTableData();\n                secondServe(this, 'environment', () => {\n                  this.queryData();\n                }, 5);\n              } else {\n                //console.log('获取floorAreaList失败：');\n                //console.log(data.data);\n              }\n            }\n            else {\n              this.$message({\n                message: `获取floorAreaList失败：${data.status}`,\n                duration: 2000,\n                type: 'error'\n              });\n            }\n          })\n          .catch((error) => {\n            this.$notify({\n              title: 'ERROR',\n              message: `${error}`,\n              duration: 2000,\n              type: 'error'\n            });\n          });\n      },\n      queryData() {\n        let formData = new FormData();\n        for (let i in this.userQuery) {\n          formData.append(i, this.userQuery[i]);\n        }\n        // this.coChartDate = [{}];\n        //console.log(`查询字段: ${ JSON.stringify(this.userQuery) }`);\n        this.$http.post(this.$Api + this.requestUrl.environmentManagerUrl, formData, {dataType: 'json'})\n          .then(data => {\n            if (data.status == 200) {\n              let jsonData = data.data;\n              if ((typeof(jsonData.result) !== 'undefined') && (jsonData.result == 1)) {\n                //console.log(`结果返回: ${ JSON.stringify(jsonData) }`);\n                if (jsonData.param.co_chart.length) {\n                  this.coChartDate = jsonData.param.co_chart.reverse();\n                }\n                this.stateData[0].numberSize = jsonData.param.device_sum;\n                this.stateData[1].numberSize = jsonData.param.co_average + ' ppm';\n                this.stateData[2].numberSize = jsonData.param.co_highest + ' ppm';\n                this.coAverage = jsonData.param.co_average;\n              } else {\n                //console.log('获取environmentManager失败：');\n                //console.log(data.data);\n              }\n            }\n            else {\n              this.$message({\n                message: `获取environmentManager失败：${data.status}`,\n                duration: 2000,\n                type: 'error'\n              });\n            }\n          })\n          .catch((error) => {\n            this.$notify({\n              title: 'ERROR',\n              message: `${error}`,\n              duration: 2000,\n              type: 'error'\n            });\n          });\n      },\n      queryTableData() {\n        let formData = new FormData();\n        $.extend(this.userTableQuery, this.userQuery);  //userQuery 浅拷贝进 userTableQuery\n        for (let i in this.userTableQuery) {\n          formData.append(i, this.userTableQuery[i]);\n        }\n        this.tableData = [];\n        //console.log(`查询字段: ${ JSON.stringify(this.userTableQuery) }`);\n        this.$http.post(this.$Api + this.requestUrl.environmentListUrl, formData, {dataType: 'json'})\n          .then(data => {\n            if (data.status == 200) {\n              let jsonData = data.data;\n              if ((typeof(jsonData.result) !== 'undefined') && (jsonData.result == 1)) {\n                //console.log(`结果返回: ${ JSON.stringify(jsonData) }`);\n                this.tableData = jsonData.environment_list;\n                this.tablePageTotal = jsonData.total_page;\n              } else {\n                //console.log('获取environmentList失败：');\n                //console.log(data.data);\n              }\n            }\n            else {\n              this.$message({\n                message: `获取environmentList失败：${data.status}`,\n                duration: 2000,\n                type: 'error'\n              });\n            }\n          })\n          .catch((error) => {\n            this.$notify({\n              title: 'ERROR',\n              message: `${error}`,\n              duration: 2000,\n              type: 'error'\n            });\n          });\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .par-state {\n    position: absolute;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: stretch;\n    height: calc(100% - 120px);\n    width: calc(100% - 226px);\n    .state-one {\n      order: 5;\n      flex: 5 0 auto;\n      width: 50%;\n      margin-right: 10px;\n      display: flex;\n      height: 100%;\n      position: relative;\n      flex-direction: column;\n      .state-top {\n        flex: 5 0 auto;\n        display: flex;\n        position: relative;\n        flex-direction: column; //上下\n        margin-bottom: 10px;\n        background: #fff;\n        border-radius: 3px;\n      }\n      .state-bottom {\n        position: relative;\n        flex: 5 0 auto;\n        display: flex;\n        background: #fff;\n        border-radius: 3px;\n        flex-direction: column; //上下\n      }\n    }\n    .state-tor {\n      order: 5;\n      border-radius: 3px;\n      flex: 5 0 auto;\n      width: 50%;\n      text-align: center;\n      position: relative;\n      .state-top {\n        flex: 5 0 auto;\n        align-items: center;\n        display: flex;\n        position: relative;\n        overflow-y: auto;\n        flex-direction: row;\n        margin-bottom: 10px;\n        flex-direction: column;\n        position: relative;\n        background: #fff;\n        height: calc(50% - 5px);\n      }\n      .state-bottom {\n        flex: 5 0 auto;\n        background: #fff;\n        position: relative;\n        height: calc(50% - 5px);\n        display: flex;\n        overflow-y: auto;\n        .block {\n          margin: 10px 0px;\n        }\n      }\n    }\n  }\n\n  .next-layer {\n    position: absolute;\n    top: 50%;\n    right: 0px;\n    height: 58px;\n    width: 58px;\n    border-radius: 50%;\n    transform: translate(-58%, -36%);\n    color: #745fea;\n    background: #ded8fe;\n    border: 1px solid #745fea;\n    transition: ease-in-out 0.4s;\n    &:hover {\n      background: #745fea;\n      color: #fff;\n      box-shadow: 0px 0px 5px #745fea;\n    }\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/home/environment.vue"],"sourceRoot":""}