{"version":3,"sources":["webpack:///src/view/home/screenControl.vue","webpack:///./src/view/home/screenControl.vue?d63f","webpack:///./src/view/home/screenControl.vue"],"names":["screenControl","name","components","data","stateMsg","mapVehicle","changeColor","featureDate","carNumberSrc","popupLayer","collapseShow","parkMap","floorName","floorId","userInfo","stateData","choseScreenId","screenList","controlCarList","screenControlCar","index","carpos_list","carpos_name","carpos_gid","carpos_areaID","batchAdd","addScreenCarArr","clickedValIn","choseIn","created","localStorage","getItem","this","JSON","parse","mounted","parkThis","pushTaggle","b_map","findMapOOB","BeefindMap","defineProperty_default","target","$refs","mybox","floorUl","mapType","urlLocal","$Api","city_id","$CityId","build_id","$BuildId","floor_id","floorBarVisible","carLayerVisible","carPortLayerVisible","interLayerVisible","deviceLayerVisible","popup","ol","Overlay","element","positioning","stopEvent","offset","addOverlay","on","event","feature","forEachFeatureAtPixel","pixel","console","log","type","choseCar","coordinates","carposPoint","setPosition","warn","setCarColor","findCarFeature","filterFeature","initParkInfo","floor","carpos_sum","addScreen","getSlist","beforeDestroy","removeEventListener","clearStateInter","undefined","methods","mapImg","mapDialog","sumDate","stateClose","stateClick","upFloor","self","url","userId","evevt","getScreenList","downFloor","openDialog","dialogVisible","carNumberImg","that","carImg","car_picUrl","substring","setTimeout","date","$message","message","center","specialWarn","featureWarn","hideOverLayer","buildId","_this","params","URLSearchParams","append","$http","post","timeout","headers","Content-Type","then","response","result","screen_list","length","catch","error","$notify","title","duration","filterControlCarList","forEach","val","carColor","getControlCarList","_this2","user_id","screen_id","index_list","resetCarColor","addScreenCarControl","_this3","getScreenCarUrl","postDate","i","stringify_default","refreshCotrolCar","filter","screenCarColor","deleteScreenCarControl","_this4","showCarList","callDate","screenId","choseIndex","choseScreen","filterPost","arr","postData","add_carpos","addSon","carNum","carUID","carArea","push","filterDeletePost","delete_carpos","deleCar","addScreenCar","cancelAdd","alert","fDate","some","pop","deleteCar","deleteCarUrl","home_screenControl","render","_vm","_h","$createElement","_c","_self","staticClass","_v","_s","staticStyle","text-align","directives","rawName","value","expression","attrs","accordion","change","_l","item","key","stringify","slot","background-color","font-family","font-size","border","click","$event","class","clickColor","style","lineHeight","it","background","id","ref","round","size","src","__webpack_require__","alt","currentTarget","append-to-body","lock-scroll","modal","close-on-click-modal","visible","top","width","update:visible","close","staticRenderFns","Component","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/19.3b7a1e7bf237e2570254.js","sourcesContent":["<template>\n  <div class=\"par-state main-padding\">\n    <div class=\"state-one\">\n      <div class=\"state-top\">\n        <div class=\"state-round\">{{floorName}}<div class=\"state-box\"></div></div>\n      </div>\n      <div class=\"state-bottom\">\n         <div class=\"collapse\" style=\"text-align: center;\">\n           <div class=\"collapseShow\" v-show=\"collapseShow\">无引导屏列表数据</div>\n           <el-collapse accordion @change=\"showCarList\">\n             <!--无列表数据-->\n             <el-collapse-item class=\"screenList\"  v-for=\"(item, index) in screenList\" value=\"item\"  :key=\"item.screen_id\" :name=\"JSON.stringify(item)\">\n               <template slot=\"title\">\n                 <div style=\"background-color: #efefef; font-family: 'Microsoft YaHei UI'; font-size: 14px; border: 1px solid #d3d3d3;\">\n                   引导屏ID: {{ item.screen_id }}\n                 </div>\n               </template>\n               <div class=\"carScreenList\">\n\n                 <div class=\"carScreenListItem\" v-for=\"item in controlCarList\" :key=\"item.index\"  @click=\"choseIndex(item)\">\n                    <!--:style=\"{lineHeight: '100%'}\"-->\n                   <div class=\"screenIndex\" @click=\"choseScreen(item)\" :class=\"{'clickColor':clickedValIn === item.index}\" :style=\"{lineHeight: '100%'}\">\n                      <div class=\"screenIndexSon\">\n                        {{item.message}}\n                      </div>\n                   </div>\n                   <div class=\"screenCar\">\n                      <span class=\"spanCar\" :style=\"{background:item.carColor+''}\" v-for=\"it in item.carpos_list\" :key=\"it.index\">\n                           {{it.carpos_name}}\n                       </span>\n                   </div>\n                 </div>\n               </div>\n             </el-collapse-item>\n            <!-- <el-collapse-item title=\"反馈 Feedback\">\n               <div>控制反馈：</div>\n               <div>页面反馈:</div>\n             </el-collapse-item>\n             <el-collapse-item title=\"效率 Efficiency\">\n               <div>简化流程:</div>\n               <div>清晰明确：</div>\n               <div>帮助用户识别：</div>\n             </el-collapse-item>\n             <el-collapse-item title=\"可控 Controllability\">\n               <div>用户决策</div>\n               <div>结果可控</div>\n             </el-collapse-item>-->\n           </el-collapse>\n\n         </div>\n\n        <!--<ul>\n          <li v-for=\"item in stateData\" :style=\"{border:'1px solid #'+item.back+''}\">\n            <span :style=\"{background:'#'+item.back+''}\"></span><i :style=\"{borderRight:'1px solid #'+item.back+''}\"></i>{{item.name}}：{{item.numberSize}}\n          </li>\n        </ul>-->\n      </div>\n    </div>\n    <div class=\"state-tor\" id=\"mapDiv\">\n      <div class=\"the-map\" id=\"map\" ref=\"mybox\">\n      </div>\n      <div class=\"button\" >\n        <el-button type=\"primary\" v-show=\"batchAdd\"  round size=\"medium\" @click=\"batchAdd=!batchAdd\">批量添加</el-button>\n        <div class=\"buttonSon\" v-show=\"!batchAdd\">\n          <div class=\"sonbt\">\n            <el-button  type=\"danger\" round size=\"medium\" @click=\"cancelAdd\">取消添加</el-button>\n          </div>\n          <div class=\"sonbt\">\n            <el-button  type=\"primary\" round size=\"medium\" @click=\"addScreenCar\" >确认添加</el-button>\n          </div>\n        </div>\n      </div>\n      <img src=\"../../../static/img/up.png\" alt=\"up\" @click=\"upFloor()\" class=\"up\">\n      <div id=\"floor\">\n        <ul id=\"floorUl\" ref=\"floorUl\"></ul>\n      </div>\n      <img src=\"../../../static/img/down.png\" alt=\"down\" @click=\"downFloor()\" class=\"down\">\n      <!--<button class=\"map-button\" @click=\"nextFloor()\">下一层</button>-->\n      <!--<button  class=\"map-button\" style=\" top: 70%\" @click=\"openDialog\" >弹出</button>-->\n      <!--<button  class=\"map-button\" style=\" top: 30%\" @click=\"mapImg\" >地图弹框</button>-->\n      <!--车位信息-->\n      <div id=\"popup\" ref=\"popup\" class=\"ol-popup\">\n        <div id=\"popHeader\" class=\"popDiv\">\n          车位信息\n          <i class=\"el-icon-error\" id=\"i-error\" @click.self=\"hideOverLayer()\"></i>\n        </div>\n        <div id=\"popOne\" class=\"popDiv\" >\n            车位号:{{ featureDate.carNum }}\n        </div>\n        <div id=\"popTwo\" class=\"popDiv\">\n            分区号:{{ featureDate.carArea }}\n        </div>\n        <div id=\"popThree\" class=\"popDiv\">\n          <el-button class=\"popBt\" type=\"primary\"  size=\"mini\" @click=\"deleteCar\">删除</el-button>\n        </div>\n      </div>\n      <!---->\n    </div>\n    <!--消息弹窗-->\n    <!-- <dialog-msg :title=\"diaglogMsg\" :msgType=\"0\" :msgData=\"diagloMsg\" @getAll=\"parkinMsg\"  v-if=\"dialogVisible\">\n\n     </dialog-msg>-->\n    <!--地图弹窗-->\n    <el-dialog\n      class=\"imgSrcDialog\"\n      title=\"查看图片\"\n      :append-to-body='true' :lock-scroll=\"true\" :modal=\"true\"\n      :close-on-click-modal=\"false\"\n      :visible.sync=\"mapVehicle\"\n      @close='mapDialog'\n      top=\"35vh\"\n      width=\"30%\"\n    >\n      <div class=\"map-img\">\n        <img v-bind:src=\"carNumberSrc\">\n      </div>\n\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\n  import  { module } from \"../../../static/ol/findMapOOB\";\n  //---------------------------------\n\n  export default {\n    name: \"parking-state\",\n    components:{\n\n    },\n    data(){\n      return{\n        stateMsg:true,\n        mapVehicle:false,\n        changeColor:'#cccccc',//点击index后更改颜色\n        featureDate:'',//点击后获取的要素数据\n        carNumberSrc:'',//车牌图片路径\n        popupLayer:'',//地图信息层\n        collapseShow: false,//引导屏的列表是否显示;\n        parkMap:'',//引导屏管理地图\n        //当前楼层名称\n        floorName:\"\",\n        floorId:\"\",//楼层ID\n        userInfo:\"\", //用户信息\n        //占用数，空余数，超时停车，黑名单，违规停车，特殊车辆显示数据\n        stateData:[],\n        choseScreenId:'',//选择的屏幕ID\n        screenList:[//屏幕列表\n          /*{\n            \"screen_id\" : \"1\",\n            \"screen_x\" : 35224.9999814485,\n            \"screen_y\" : -46875.000021975,\n            \"floor_id\" : \"LX02\",\n            \"screen_sizetype\" : 2\n          },\n          {\n            \"screen_id\" : \"2\",\n            \"screen_x\" : 20.0,\n            \"screen_y\" : 30.0,\n            \"floor_id\" : \"LX02\",\n            \"screen_sizetype\" : 2\n          },\n          {\n            \"screen_id\" : \"3\",\n            \"screen_x\" : 20.0,\n            \"screen_y\" : 30.0,\n            \"floor_id\" : \"LX02\",\n            \"screen_sizetype\" : 2,\n            \"index_list\":[]\n          },\n          {\n            \"screen_id\" : \"4\",\n            \"screen_x\" : 20.0,\n            \"screen_y\" : 30.0,\n            \"floor_id\" : \"LX02\",\n            \"screen_sizetype\" : 2,\n            \"index_list\":[]\n          },\n          {\n            \"screen_id\" : \"5\",\n            \"screen_x\" : 20.0,\n            \"screen_y\" : 30.0,\n            \"floor_id\" : \"LX02\",\n            \"screen_sizetype\" : 2,\n            \"index_list\":[]\n          }*/\n        ],\n        controlCarList:[],//初始化的数据;\n        screenControlCar:[//屏幕管辖的车位\n          {\n            index : \"1\",\n            // message:'左',//获取幕管辖车位的数据后，添加的参数;\n            // carColor:'#ffc6ee',//获取屏幕管辖车位的数据后，添加的参数\n            carpos_list : [\n              {\n                \"carpos_name\" : \"21\",\n                \"carpos_gid\" : \"LX02421\",\n                \"carpos_areaID\" : \"4\"\n              },\n              {\n                \"carpos_name\" : \"26\",\n                \"carpos_gid\" : \"LX02426\",\n                \"carpos_areaID\" : \"4\"\n              },\n              {\n                \"carpos_name\" : \"07\",\n                \"carpos_gid\" : \"LX02407\",\n                \"carpos_areaID\" : \"4\"\n              },\n              {\n                \"carpos_name\" : \"13\",\n                \"carpos_gid\" : \"LX02513\",\n                \"carpos_areaID\" : \"5\"\n              },{\n                \"carpos_name\" : \"05\",\n                \"carpos_gid\" : \"LX02505\",\n                \"carpos_areaID\" : \"5\"\n              }\n\n            ]\n          },\n          {\n            index : \"2\",\n            // message:'中',//获取幕管辖车位的数据后，添加的参数;\n            // carColor:'#cfc9ff',//获取幕管辖车位的数据后，添加的参数\n            carpos_list : [\n              {\n                \"carpos_name\" : \"39\",\n                \"carpos_gid\" : \"LX02539\",\n                \"carpos_areaID\" : \"5\"\n              },\n              {\n                \"carpos_name\" : \"54\",\n                \"carpos_gid\" : \"LX02554\",\n                \"carpos_areaID\" : \"5\"\n              },\n              {\n                \"carpos_name\" : \"06\",\n                \"carpos_gid\" : \"LX02506\",\n                \"carpos_areaID\" : \"5\"\n              },\n              {\n                \"carpos_name\" : \"43\",\n                \"carpos_gid\" : \"LX02543\",\n                \"carpos_areaID\" : \"5\"\n              },\n              {\n                \"carpos_name\" : \"56\",\n                \"carpos_gid\" : \"LX02556\",\n                \"carpos_areaID\" : \"5\"\n              },\n              {\n                \"carpos_name\" : \"66\",\n                \"carpos_gid\" : \"LX02566\",\n                \"carpos_areaID\" : \"5\"\n              },\n              {\n                \"carpos_name\" : \"47\",\n                \"carpos_gid\" : \"LX02547\",\n                \"carpos_areaID\" : \"5\"\n              },\n              {\n                \"carpos_name\" : \"55\",\n                \"carpos_gid\" : \"LX02555\",\n                \"carpos_areaID\" : \"5\"\n              }\n            ]\n          },\n          {\n            index : \"3\",\n            // message:'右',//获取幕管辖车位的数据后，添加的参数;\n            // carColor:'#84e246',//获取幕管辖车位的数据后，添加的参数\n            carpos_list : [\n              {\n                \"carpos_name\" : \"34\",\n                \"carpos_gid\" : \"LX02434\",\n                \"carpos_areaID\" : \"4\"\n              },\n              {\n                \"carpos_name\" : \"32\",\n                \"carpos_gid\" : \"LX02432\",\n                \"carpos_areaID\" : \"4\"\n              },\n              {\n                \"carpos_name\" : \"05\",\n                \"carpos_gid\" : \"LX02505\",\n                \"carpos_areaID\" : \"5\"\n              }\n            ]\n          }\n        ],\n        batchAdd:true,//批量添加的标识;\n        addScreenCarArr:[],//添加到引导屏幕的车位数组\n        clickedValIn: '',\n        choseIn: false //你是否点击引导屏幕\n      }\n    },\n    created(){\n      var userInfo = localStorage.getItem('userInfo')\n      this.userInfo = JSON.parse(userInfo)\n\n      //this.initParkinfo();//获取引导屏相关信息(根据楼层;)\n    },\n    mounted(){\n      //创建地图\n\n      //console.log(this.$Api);\n      var parkThis=this;\n\n      this.pushTaggle = localStorage.getItem('messagePush')==='true';\n\n      //console.log(parkThis.dialogVisible);\n\n      var b_map=new module.BeefindMap({\n        \"target\": this.$refs.mybox,\n        \"floorUl\":this.$refs.floorUl,\n        'mapType':'screenControl',\n        'urlLocal':this.$Api,\n        \"city_id\":this.$CityId,//城市城市ID\n        \"build_id\":this.$BuildId,//項目ID\n        \"floor_id\" :'',//樓層ID\n        \"floorBarVisible\":true,//楼层控件\n        \"carLayerVisible\":true,//车位层是否显示(默认显示)\n        \"carPortLayerVisible\":true,//车位号层是否显示(默认显示)\n        \"interLayerVisible\":true,//兴趣点层是否显示(默认显示)\n        \"deviceLayerVisible\":false,//设备层是否显示(默认不显示)\n        \"deviceLayerVisible\":false//设备层是否显示(默认不显示)\n      });\n      parkThis.parkMap=b_map;\n\n      //console.log(b_map.floorId);\n\n      parkThis.floorId=b_map.floorId;\n\n      //popup\n      var popup = new ol.Overlay({\n        element: parkThis.$refs.popup,\n        positioning: 'top-center',\n        stopEvent: true,\n        offset: [0, -25]\n      });\n      //\n      parkThis.popupLayer=popup;\n      //\n      parkThis.parkMap.addOverlay(parkThis.popupLayer);\n\n\n      parkThis.parkMap.on('singleclick',function (event) {\n        //console.log(event)\n\n        var feature = parkThis.parkMap.forEachFeatureAtPixel(event.pixel, function (feature) {\n          return feature;\n        });\n        console.log(feature);\n        if (feature) {\n          parkThis.featureDate=feature;\n            /*\n             *逻辑: 0.9判断点击的是否为车位;\n             *    1.0判断是否点击了引导屏;choseCar是否為undefind ? true : false;\n             *    1.1判断是否开启添加;true ? 按钮变化为两个 : 一个按钮;\n             *\n             *    1.2判断是否为选中的车位;choseCar?true:false;\n             *    1.3添加选中状态;\n             *    1.4把选择的车位信息保存起来!\n             */\n            if(feature.type=='car'||feature.type=='carEvent'){//0.9\n              if(parkThis.choseIn){//1.0\n                if(!parkThis.batchAdd){//1.1\n                  if(!feature.choseCar){//1.2\n\n                       if(feature.type=='car'){//添加选中要素;\n                         feature.setCarColor('#7460ee');//1.3\n                       }else{\n                         feature=module.findCarFeature(feature);\n                         feature.setCarColor('#7460ee');//1.3\n                       };\n                       //1.4如果车位已经添加，就不要加数组,同时取消添加状态(如果添加出错!);\n                       parkThis.filterFeature(feature);//\n                       //parkThis.addScreenCarArr.push(feature);\n                       //console.log(parkThis.addScreenCarArr);\n                  }else {\n                    parkThis.warn('该车位已添加,请选择其他车位!');\n                  };\n\n                }else{\n\n                  /*\n                  * (在这里做删除车位要素操作);\n                  * 1.0首先判断是否为控制车位;\n                  * 1.1如果是控制车位，就把车位要素保存;并且显示弹框;\n                  * 1.2然后把车位要素通过接口删除;\n                  * 1.3删除成功后刷新控制车位列表;\n                  * 1.4删除成功后刷新地图车位;\n                  * */\n                  if(feature.choseCar){\n                    console.log('为控制车位!');//1.0\n                    let coordinates = feature.carposPoint;\n                    parkThis.popupLayer.setPosition(coordinates);\n                  }else{\n                    parkThis.warn('请开启添加按钮!');\n                  };\n\n                };\n\n              }else {\n                //提示点选引导屏\n                parkThis.warn('请选择你要添加的引导屏以及方位!');\n              };\n            }else {\n              parkThis.warn('请点击你要添加的车位!');\n            };\n          /*if(feature.type=='car'||feature.type=='carEvent'){\n            parkThis.featureDate=feature;\n            if(feature.car_state=='0'){\n              parkThis.popupLayer.setPosition(undefined);\n              parkThis.dialogWarn();\n\n            }else if(feature.car_state=='5'){\n              parkThis.specialWarn();\n            }else{\n              var coordinates = feature.carposPoint;\n              parkThis.popupLayer.setPosition(coordinates);\n\n            };//\n            //----------------\n          };*/\n          //localStorage.setItem('clickMap','4');\n        }else{\n          return;\n        };//edit\n        //\n      });\n      //\n      parkThis.initParkInfo(parkThis.parkMap.floor,parkThis.parkMap.carpos_sum);\n      module.addScreen(null);\n      parkThis.getSlist();\n      //\n    },\n    beforeDestroy(){\n      const mapThis=this;\n      mapThis.parkMap.removeEventListener('singleclick');\n      //\n      module.clearStateInter();//清除全局定时器;\n      mapThis.parkMap=\"\";\n\n      mapThis.popupLayer.setPosition(undefined);\n      module.addScreen(null);\n    },\n    methods:{\n      //地图弹窗\n      mapImg(){\n        this.mapVehicle=true\n      },\n      mapDialog(){\n        this.mapVehicle=false\n      },\n      //初始化查询出来的占用数，空余数，超时停车，黑名单，违规停车，特殊车辆显示数据\n      initParkInfo(floorName,sumDate){\n\n        //console.log(floorName);\n        //\n        let date=sumDate;\n        //\n\n        this.floorName=floorName; //改变楼层\n      },\n\n      stateClose(){\n        // console.log('我关闭了')\n      },\n      stateClick(){\n        // console.log('查看')\n      },\n      //下一层\n      upFloor(){\n        var self=this;\n        let url=this.$Api+'/GOSSystem/ScreenList';\n        let userId='beefind001';\n        module.upFloor(clickSuccess);\n        function clickSuccess(evevt,floorId){\n          self.floorName=evevt;\n          self.floorId=floorId;\n          self.initParkInfo(self.parkMap.floor,self.parkMap.carpos_sum);\n          self.getScreenList(url,self.$BuildId,self.floorId,userId);\n        };\n        module.addScreen(null);\n      },\n      downFloor(){\n        var self=this;\n        let url=this.$Api+'/GOSSystem/ScreenList';\n        let userId='beefind001';\n        module.downFloor(clickSuccess);\n        function clickSuccess(event,floorId){//1,name;2,id;\n          self.floorName=event;\n          self.floorId=floorId;\n          self.initParkInfo(self.parkMap.floor,self.parkMap.carpos_sum);\n          //\n          self.getScreenList(url,self.$BuildId,self.floorId,userId);\n        };\n        module.addScreen(null);\n      },\n      //打开警告弹窗\n      openDialog(){\n        this.dialogVisible=true;\n        //暂时没写\n      },//\n      //查看车牌信息\n      carNumberImg(){\n        //http://beefindtech.cn:40005\n        //http://127.0.0.1:30005\n        let that=this;\n        //console.log(this.featureDate.car_picUrl);\n        let carImg=that.$Api+this.featureDate.car_picUrl.substring(25);\n        console.log(carImg);\n        that.carNumberSrc=\"\";\n\n        setTimeout(function () {\n          that.carNumberSrc=carImg;\n          that.popupLayer.setPosition(null);\n          that.mapVehicle=true;\n        },150);\n\n\n      },\n      warn(date) {\n        this.$message({\n          message: date,\n          type: 'warning',\n          center:true\n        });\n      },\n      specialWarn(){\n        this.$message({\n          message: '该车为特殊车辆!无权限查看!',\n          type: 'warning',\n          center:true\n        });\n      },\n      featureWarn(){\n        this.$message({\n          message: '查看车牌请点击车位!',\n          type: 'warning',\n          center:true\n        });\n      },\n      hideOverLayer(){\n        this.featureDate=\"\";\n        //this.popupLayer.setPosition(null);\n        this.popupLayer.setPosition(undefined);\n      },\n      getScreenList(url,buildId,floorId,userId){//获取屏幕列表!\n        var params = new URLSearchParams();\n        params.append('build_id', buildId);\n        params.append('floor_id', floorId);\n        params.append('user_id', 'beefind001');\n         this.$http.post(\n           url,\n           params,\n           {\n             timeout:3000,\n             headers:{\n               'Content-Type':'application/x-www-form-urlencoded'\n             }\n\n           }).then((response) => {\n             console.log(response);\n             //获取屏幕ID之后的逻辑处理\n             //response.data;\n              if(response.data.result=='1'){\n                //&&response.data.screen_list.length>=1\n                if(response.data.screen_list.length>=1){\n                  this.collapseShow=false;\n                  this.screenList=[];\n                  this.screenList=response.data.screen_list;\n                }else{\n                  this.warn('引导屏列表为空');\n                };\n\n              }else{\n                //获取数据失败!\n                this.screenList=[];\n                this.collapseShow=true;\n               this.warn('获取屏幕列表失败!');\n              };//\n\n\n           }).catch((error) => {\n              //console.log(error);\n           this.$notify({\n             title: 'ERROR',\n             message: `${error}`,\n             duration: 2000,\n             type: 'error'\n           });\n         });\n      },\n      filterControlCarList(date){//过滤引导屏幕管辖的车位列表\n        let that = this;\n        let data=date;\n        console.log(data);\n        if(data.length>=1){\n          data.forEach(function (val) {\n            if(val.index=='1'){\n              val.message='1';\n              val.carColor='#ffc6ee';\n            }else if(val.index=='2'){\n              val.message='2';\n              val.carColor='#cfc9ff';\n            }else{\n              val.message='3';\n              val.carColor='#84e246';\n            };\n          });\n        };\n        return data;\n      },\n      getControlCarList(url,date){//获取引导屏控制的车位信息\n\n        var params = new URLSearchParams();\n        params.append('build_id', date.build_id);\n        params.append('floor_id', date.floor_id);\n        params.append('user_id', date.user_id);\n        params.append('screen_id', date.screen_id);\n\n        this.$http.post(\n          url,\n          params,\n          {\n            timeout:3000,\n            headers:{\n              'Content-Type':'application/x-www-form-urlencoded'\n            }\n\n          }).then((response) => {\n            console.log(response);\n          //获取屏幕ID之后的逻辑处理\n          if(response.data.result=='1'){\n            this.controlCarList=this.filterControlCarList(response.data.index_list);\n            module.resetCarColor('#969696');//重置车位的状态;\n            //--------------------\n          }else{\n            //获取数据失败!\n            this.warn('获取屏幕控制车位列表失败!');\n          };//\n\n\n        }).catch((error) => {\n          //console.log(error);\n          this.$notify({\n            title: 'ERROR',\n            message: `${error}`,\n            duration: 3000,\n            type: 'error'\n          });\n        });\n\n      },\n      addScreenCarControl(url,date){//添加车位到引导屏幕\n        /*\n        * 1.0添加车位;\n        * 1.1刷新引导屏控制的车位(显示);\n        * */\n        //对于数据进行序列化;\n        var date=date;\n        var params = new URLSearchParams();\n        let getScreenCarUrl=this.$Api+'/GOSSystem/screenCarposList';\n        let postDate={\n          user_id : \"beefind001\",\n          build_id : this.$BuildId,\n          floor_id : this.floorId,\n          screen_id : this.choseScreenId\n        };\n        for(let i in date){\n            //console.log(JSON.stringify(date[i]));\n          params.append(i,JSON.stringify(date[i]));\n        };\n        this.$http.post(\n          url,\n          params,\n          {\n            timeout:3000,\n            headers:{\n              'Content-Type':'application/x-www-form-urlencoded'\n            }\n\n          }).then((response) => {\n          //console.log(response);\n          //获取屏幕ID之后的逻辑处理\n          //response.data;\n          if(response.data.result=='1'){\n            /*\n            * 添加车位成功!\n            * 0,取消添加模式;\n            * 1,刷新车位引导屏幕列表;\n            * 2,更新地图引导屏幕控制车位;\n            * */\n            this.batchAdd=!this.batchAdd;\n            this.getControlCarList(getScreenCarUrl,postDate);//\n            //绘制地图\n            //根据获取到的引导屏控制车位列表，找到添加的引导屏;\n            let refreshCotrolCar=this.controlCarList.filter(function (val) {\n              return val.index==date.index;\n            });\n            // 重置引导屏幕选中状态\n            this.clickedValIn=\"\";\n            this.choseIn=false;\n            //刷新地图的状态;\n            //console.log(refreshCotrolCar);\n            module.screenCarColor(refreshCotrolCar,refreshCotrolCar.carColor);\n\n          }else{\n            //获取数据失败!\n            this.warn('添加车位到引导屏失败!');\n          };//\n\n\n        }).catch((error) => {\n          //console.log(error);\n          this.$notify({\n            title: 'ERROR',\n            message: `${error}`,\n            duration: 3000,\n            type: 'error'\n          });\n        });\n\n      },\n      deleteScreenCarControl(url,date){//刪除引导屏幕控制的车位;\n\n        var params = new URLSearchParams();\n        let getScreenCarUrl=this.$Api+'/GOSSystem/screenCarposList';\n        let postDate={\n          user_id : \"beefind001\",\n          build_id : this.$BuildId,\n          floor_id : this.floorId,\n          screen_id : this.choseScreenId\n        };\n\n        for(let i in date){\n          //console.log(JSON.stringify(date[i]));\n          params.append(i,JSON.stringify(date[i]));\n        };\n\n        this.$http.post(\n          url,\n          params,\n          {\n            timeout:2000,\n            headers:{\n              'Content-Type':'application/x-www-form-urlencoded'\n            }\n\n          }).then((response) => {\n          console.log(response);\n          //获取屏幕ID之后的逻辑处理\n          //response.data;\n          if(response.data.result=='1'){\n            /*\n            * 删除车位成功!\n            * 1,刷新车位引导屏幕列表;\n            * 2,更新地图引导屏幕控制车位\n            */\n            this.clickedValIn= ''; //置位点击的引导屏幕index\n            this.choseIn=false; //你是否点击了引导屏幕\n\n            this.getControlCarList(getScreenCarUrl,postDate);//\n            //根据获取到的引导屏控制车位列表，找到添加的引导屏;\n            let refreshCotrolCar=this.controlCarList.filter(function (val) {\n              return val.index==date.index;\n            });\n            //刷新地图的状态;\n            //console.log(refreshCotrolCar);\n            this.featureDate.setCarColor('#969696');\n          }else{\n            //获取数据失败!\n            this.warn('删除车位到引导屏失败!');\n          };//\n        }).catch((error) => {\n          //console.log(error);\n          this.$notify({\n            title: 'ERROR',\n            message: `${error}`,\n            duration: 3000,\n            type: 'error'\n          });\n        });\n\n      },\n      showCarList(date){//点击引导屏幕列表获取相关信息\n        let callDate;\n        let screenId;\n        let postDate;\n        if(date){\n           callDate =JSON.parse(date);\n           screenId=callDate.screen_id;\n           this.choseScreenId=callDate.screen_id;\n           postDate={\n            user_id : \"beefind001\",\n            build_id : this.$BuildId,\n            floor_id : this.floorId,\n            screen_id : screenId\n          };\n        };\n\n        //点击获取获取引导屏幕数据后做以下几步操作:\n        //1.1请求获取引导屏幕管理的车位;\n        //1.2在地图上绘制出引导屏幕的图标；\n         //1.1\n         let url=this.$Api+'/GOSSystem/screenCarposList';\n\n\n         if(screenId){\n           this.getControlCarList(url,postDate);\n           //1.2\n           module.addScreen(callDate);\n           //模拟的数据;\n           //console.log(this.screenControlCar);\n           //console.log(this.filterControlCarList(this.screenControlCar));\n           //this.controlCarList=this.screenControlCar;\n         }else{\n           console.log('else');\n           module.resetCarColor('#969696');\n           module.addScreen(null);\n         };\n\n      },\n      choseIndex(date){\n        console.log(date);\n        console.log(this.$refs);\n        //this.changeColor='red';\n      },\n      choseScreen(val){//获取点击屏幕的\n        this.addScreenCarArr=[];\n        console.log(val);\n        this.choseIn=true; //你是否点击引导屏幕\n        this.clickedValIn=val.index;\n        module.screenCarColor(val,val.carColor);\n        //1.1获取对应管理的车位数，以及车区颜色;\n        //1.2根据获取到的车位数，找到对应的车位，并对其绘制颜色(其余的颜色为灰色统一);\n        //地图部分需要做个函数(:为选中区域绘制颜色)function(a,b){}(a:选择的车位-传参,b:所有的车位;);\n        //this.changeCarColor(val,)这个方法是map的方法;\n      },\n      filterPost(arr){//这个过滤的数据是添加的\n        let postData={};\n            postData.user_id='beefind001';\n            postData.build_id=arr[0].build_id;\n            postData.floor_id=arr[0].floor_id;\n            postData.screen_id=this.choseScreenId;\n            postData.index=arr[0].index;\n            postData.add_carpos=[];\n            //接取数组里的数据，并返回新的数组;\n            console.log(arr);\n            arr.forEach(function (val) {\n              let addSon={};\n                 addSon.carpos_name=val.carNum;\n                 addSon.carpos_gid=val.carUID;\n                 addSon.carpos_areaID=val.carArea;\n              postData.add_carpos.push(addSon);\n            });\n            //\n            return  postData;\n      },\n      filterDeletePost(val){//这个过滤的数据是删除的\n        let postData={};\n        postData.user_id='beefind001';\n        postData.build_id=val.build_id;\n        postData.floor_id=val.floor_id;\n        postData.screen_id=this.choseScreenId;\n        postData.index=val.index;\n        postData.delete_carpos=[];\n        //接取数组里的数据，并返回新的数组;\n        let deleCar={};\n            deleCar.carpos_name=val.carNum;\n            deleCar.carpos_gid=val.carUID;\n            deleCar.carpos_areaID=val.carArea;\n        postData.delete_carpos.push(deleCar);\n        //\n        return  postData;\n      },\n      addScreenCar(){//添加引导屏控制的车位数据;\n        /*\n        * 1.0过滤数据(得到要post的数据)\n        * 1.1发送post请求;\n        * */\n        //1.0( 没选车位?提示:(first:过滤;second:post) );\n        //console.log(this.addScreenCarArr);\n        let postData;\n        let url=this.$Api+'/GOSSystem/addCarposToScreen';\n        if(this.addScreenCarArr.length>=1){\n          postData=this.filterPost(this.addScreenCarArr);//1.0\n          //console.log(postData);\n          this.addScreenCarControl(url,postData);//1.1\n\n\n        }else{\n          this.warn('请选择所要添加的车位!');\n        };\n        //this.addScreenCarControl(url,date);1.1\n\n      },\n      cancelAdd(){//取消添加;\n        /*\n        * 1.0恢复按钮状态;\n        * 1.1回复地图的状态;\n        * 1.3清空选中的车位;\n        * */\n        this.batchAdd=!this.batchAdd;\n        alert(this.addScreenCarArr);\n        this.addScreenCarArr.forEach(function (val,index,arr) {\n          val.setCarColor('#969696');\n        });//\n        this.addScreenCarArr=[];\n\n      },\n      getSlist () {\n        var userInfo = localStorage.getItem('userInfo')\n            this.userInfo = JSON.parse(userInfo)\n        let url=this.$Api+'/GOSSystem/ScreenList';\n\n        console.log(url);\n        let userId=this.userInfo.user_id;\n        let floorId=this.floorId!=null&&this.floorId!=undefined&&this.floorId!=\"\" ? this.floorId : \"Lx01\";\n\n        console.log(this.floorId);\n\n        this.getScreenList(url,this.$BuildId,this.floorId,userId);\n      },\n      filterFeature(data){//往数组中添加不存在的要素;\n        //\n        let that=this;\n        let fDate = data;\n        //\n        let arr=that.addScreenCarArr;\n        console.log(arr);\n        function checkAdult(arr){\n          return arr == fDate;\n        };\n        //\n        if(that.addScreenCarArr.length<=0){//数组是否为空?添加:过滤添加;\n          that.addScreenCarArr.push(fDate);\n        }else{\n          //是否重复点击统一给车位?取消添加，更改颜色，删除要素;:添加要素\n          if(!that.addScreenCarArr.some(checkAdult)){\n            that.addScreenCarArr.push(fDate);\n          }else{\n            that.addScreenCarArr.pop(fDate);\n            fDate.setCarColor('#969696');//1.3\n          };\n\n        };//\n        //console.log(that.addScreenCarArr);\n\n      },\n      deleteCar(){//刪除引导屏控制的车位;\n        /*\n        * 1.0隐藏弹框;\n        * 1.1获取的数据整理\n        * 1.2发送POst请求，删除车位要素;\n        * 1.3刷新引导屏幕列表;\n        * 1.4刷新地图;\n        * */\n        this.popupLayer.setPosition(undefined);//1.0\n        //console.log(this.featureDate);\n        let postDate=this.filterDeletePost(this.featureDate);//1.1\n        let deleteCarUrl=this.$Api+'/GOSSystem/deleteCarposFromScreen';\n        console.log(postDate);\n        this.deleteScreenCarControl(deleteCarUrl,postDate);\n      }\n\n\n\n\n\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .clickColor{\n    font-size: 20px;\n    font-style: italic;\n    color: red;\n  }\n  .par-state{\n    position: absolute;\n    display: flex;\n    flex-direction: row;\n    flex-wrap: nowrap;\n    justify-content: stretch;\n    height: calc(100% - 120px);\n    width: calc(100% - 226px);\n    /*border: 1px solid #FF0000;*/\n    .state-one{\n      order: 1;\n      overflow-y: auto;\n      flex: 2 0 auto;\n      border-radius: 3px;\n      background: #fff;\n      margin-right: 10px;\n      display: flex;\n      flex-direction: column;\n      /*border: 1px solid #ff3b52;*/\n      .state-top{\n        flex: 1 0 auto;\n        align-items: center;\n        display: flex;\n        align-self: center;\n        /*border:1px solid #00FF00;*/\n        .state-round{\n          text-align: center;\n          line-height: 160px;\n          color: #fff;\n          font-size: 36px;\n          background: linear-gradient(180deg, #fdada2 0px, #ff999d 100%) center center / cover;\n          border-radius: 50%;\n          width: 160px;\n          height: 160px;\n          /*border: 1px solid #ff3b52;*/\n        }\n        .state-box{\n          height: 9px;\n          border-radius: 10px;\n          width: 100px;\n          margin: 0 auto;\n          -webkit-box-shadow: 0px 10px 10px #ffc4c8;\n          box-shadow: 0px 21px 25px #ffc4c8;\n          position: relative;\n          top: -15px;\n          /* z-index: 111; */\n        }\n      }\n      .state-bottom{\n        flex: 5 0 auto;\n        /*border:1px solid #00FF00;*/\n        .collapse{\n          /*width: 80%;*/\n          //max-width: 300px;\n          width: 430px;\n          margin: auto;\n          height: auto;\n          /*max-width: 290px;*/\n          margin-top: 5%;\n          /*margin-left: 10%;*/\n          background: #4D4D4D;\n          //border:1px solid #ff0000;\n          max-height: 380px;\n          overflow-y: auto;\n          .collapseShow{\n            border:1px solid #cccccc;\n            height: 35px;\n            line-height: 35px;\n          }\n          .screenList{\n            width: 100%;\n            text-align: center;\n            //border:1px solid #0000ff;\n            .carScreenList{\n              height: auto;\n              margin-bottom: -25px;\n              /*border: 1px solid #ff3b52;*/\n              border: 0.5px solid #d3d3d3;\n              .carScreenListItem{\n                width: 100%;\n                height: auto;\n                margin: 0px;\n                min-height: 35px;\n                text-align: left;\n                /*border: 1px solid #0000ff;*/\n                border-bottom:0.5px solid #cccccc;\n                display: inline-block;\n                position: relative;\n                vertical-align: middle;\n                .screenIndex{\n                  width: 20%;\n                  position: absolute;\n                  border-right: 1px solid #cccccc;\n                  top: 0px;\n                  bottom: 0px;\n                  text-align: center;\n                  margin: auto;\n                  .screenIndexSon{\n                    position: relative;\n                    top: 35%;\n                  }\n                }\n                .screenIndex:active{\n                  color: hotpink;\n                }\n                .screenCar{\n                  /*display: inline;*/\n                  width: 80%;\n                  /*max-width: 200px;*/\n                  float: left;\n                  height: auto;\n                  text-align: left;\n                  position: relative;\n                  left: 20%;\n                  /*border:1px solid #ff0000;*/\n                  span{\n                    width: 60px;\n                    height: 26px;\n                    line-height: 26px;\n                    text-align: center;\n                    color: white;\n                    border-radius: 30px;\n                    margin: 3px;\n                    display: inline-block;\n                  }\n                }\n\n              }\n            }\n          }\n\n        }\n\n      }\n    }\n    .state-tor{\n      order: 9;\n      border-radius: 3px;\n      background: #fff;\n      flex: 9 0 auto;\n      text-align: center;\n      position: relative;\n      /*border:1px solid #ff3b52;*/\n      .the-map{\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        /*border:1px solid #ff3b52;*/\n      }\n      .button{\n        position: fixed;\n        right: 5px;\n        float: right;\n        width: 10%;\n        height: 50px;\n        line-height: 50px;\n        /*border:1px solid black;*/\n      }\n      .buttonSon{\n        /*border:1px solid #ff0000;*/\n        text-align: center;\n        .sonbt{\n          /*border:1px solid #00FF00;*/\n        }\n      }\n      #floorUl li{\n        width: 35px;\n        height: 35px;\n        overflow: hidden;\n      }\n      #floor{\n        /*border: 1px solid #ff0000;*/\n        width: 35px;\n        height: 35px;\n        overflow: hidden;\n        position: absolute;\n        bottom: 200px;\n        display: block;\n\n      }\n      .up{\n        width: 35px;\n        height: 35px;\n        line-height: 35px;\n        text-align: center;\n        /*border:1px solid red;*/\n        position: absolute;\n        right: 20px;\n        bottom:235px;\n        z-index: 2010;\n      }\n      .down{\n        width: 35px;\n        height: 35px;\n        line-height: 35px;\n        text-align: center;\n        /*border:1px solid red;*/\n        position: absolute;\n        right: 20px;\n        bottom:165px;\n        z-index: 2010;\n      }\n      .map-button{\n        position: absolute;\n        top: 50%;\n        right: 0px;\n        height: 58px;\n        width: 58px;\n        border-radius: 50%;\n        transform: translate(-58%, -36%);\n        color: #745fea;\n        background: #ded8fe;\n        border: 1px solid #745fea;\n        transition: ease-in-out 0.4s;\n        &:hover{\n          background: #745fea;\n          color: #fff;\n          box-shadow: 0px 0px 5px #745fea;\n        }\n      }\n    }\n  }\n  #popHeader{\n    text-align: center;\n  }\n\n  #popup{\n    width: 154px;\n    height: 120px;\n    position: absolute;\n    z-index: 2015;\n    border:1px solid #7460ee;\n    border-radius: 3px;\n    overflow: hidden;\n    /*-webkit-filter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));\n    filter: drop-shadow(0 1px 4px rgba(0,0,0,0.2));*/\n  }\n  .popDiv{\n    position: relative;\n    width: 154px;\n    height: 30px;\n    line-height: 30px;\n    top: 0px;\n    /*line-height: 30px;*/\n    border: 0.5px solid #cccccc;\n    background: white;\n    font-size: 8px;\n    overflow-y: hidden;\n    text-align: center;\n  }\n  .popBt{\n    height: 21px;\n    width: 35%;\n    line-height: 0px;\n    /*border:1px solid #ffcc66;*/\n    /*margin-bottom: 10px;*/\n  }\n  #imgButton{\n    float: right;\n    line-height: 5px;\n    font-size: 9px;\n  }\n  #imgButton:active{\n    background: #cccccc;\n  }\n  .popDiv img{\n    margin-left: 5px;\n    width: 14px;\n  }\n  #i-error{\n    float: right;\n    line-height: 30px;\n  }\n  .imgSrcDialog{\n    /*border: 1px solid #ff3b52;*/\n  }\n  .map-img{\n    width: 100%;\n    text-align: center;\n    /*border: 1px solid #ff3b52;*/\n  }\n  .map-img img{\n    width: 100%;\n    display: inline-block;\n    /*border:1px solid #ff3b52;*/\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/home/screenControl.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"par-state main-padding\"},[_c('div',{staticClass:\"state-one\"},[_c('div',{staticClass:\"state-top\"},[_c('div',{staticClass:\"state-round\"},[_vm._v(_vm._s(_vm.floorName)),_c('div',{staticClass:\"state-box\"})])]),_vm._v(\" \"),_c('div',{staticClass:\"state-bottom\"},[_c('div',{staticClass:\"collapse\",staticStyle:{\"text-align\":\"center\"}},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.collapseShow),expression:\"collapseShow\"}],staticClass:\"collapseShow\"},[_vm._v(\"无引导屏列表数据\")]),_vm._v(\" \"),_c('el-collapse',{attrs:{\"accordion\":\"\"},on:{\"change\":_vm.showCarList}},_vm._l((_vm.screenList),function(item,index){return _c('el-collapse-item',{key:item.screen_id,staticClass:\"screenList\",attrs:{\"value\":\"item\",\"name\":JSON.stringify(item)}},[_c('template',{slot:\"title\"},[_c('div',{staticStyle:{\"background-color\":\"#efefef\",\"font-family\":\"'Microsoft YaHei UI'\",\"font-size\":\"14px\",\"border\":\"1px solid #d3d3d3\"}},[_vm._v(\"\\n                 引导屏ID: \"+_vm._s(item.screen_id)+\"\\n               \")])]),_vm._v(\" \"),_c('div',{staticClass:\"carScreenList\"},_vm._l((_vm.controlCarList),function(item){return _c('div',{key:item.index,staticClass:\"carScreenListItem\",on:{\"click\":function($event){_vm.choseIndex(item)}}},[_c('div',{staticClass:\"screenIndex\",class:{'clickColor':_vm.clickedValIn === item.index},style:({lineHeight: '100%'}),on:{\"click\":function($event){_vm.choseScreen(item)}}},[_c('div',{staticClass:\"screenIndexSon\"},[_vm._v(\"\\n                      \"+_vm._s(item.message)+\"\\n                    \")])]),_vm._v(\" \"),_c('div',{staticClass:\"screenCar\"},_vm._l((item.carpos_list),function(it){return _c('span',{key:it.index,staticClass:\"spanCar\",style:({background:item.carColor+''})},[_vm._v(\"\\n                         \"+_vm._s(it.carpos_name)+\"\\n                     \")])}))])}))],2)}))],1)])]),_vm._v(\" \"),_c('div',{staticClass:\"state-tor\",attrs:{\"id\":\"mapDiv\"}},[_c('div',{ref:\"mybox\",staticClass:\"the-map\",attrs:{\"id\":\"map\"}}),_vm._v(\" \"),_c('div',{staticClass:\"button\"},[_c('el-button',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.batchAdd),expression:\"batchAdd\"}],attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"},on:{\"click\":function($event){_vm.batchAdd=!_vm.batchAdd}}},[_vm._v(\"批量添加\")]),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(!_vm.batchAdd),expression:\"!batchAdd\"}],staticClass:\"buttonSon\"},[_c('div',{staticClass:\"sonbt\"},[_c('el-button',{attrs:{\"type\":\"danger\",\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.cancelAdd}},[_vm._v(\"取消添加\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"sonbt\"},[_c('el-button',{attrs:{\"type\":\"primary\",\"round\":\"\",\"size\":\"medium\"},on:{\"click\":_vm.addScreenCar}},[_vm._v(\"确认添加\")])],1)])],1),_vm._v(\" \"),_c('img',{staticClass:\"up\",attrs:{\"src\":require(\"../../../static/img/up.png\"),\"alt\":\"up\"},on:{\"click\":function($event){_vm.upFloor()}}}),_vm._v(\" \"),_c('div',{attrs:{\"id\":\"floor\"}},[_c('ul',{ref:\"floorUl\",attrs:{\"id\":\"floorUl\"}})]),_vm._v(\" \"),_c('img',{staticClass:\"down\",attrs:{\"src\":require(\"../../../static/img/down.png\"),\"alt\":\"down\"},on:{\"click\":function($event){_vm.downFloor()}}}),_vm._v(\" \"),_c('div',{ref:\"popup\",staticClass:\"ol-popup\",attrs:{\"id\":\"popup\"}},[_c('div',{staticClass:\"popDiv\",attrs:{\"id\":\"popHeader\"}},[_vm._v(\"\\n        车位信息\\n        \"),_c('i',{staticClass:\"el-icon-error\",attrs:{\"id\":\"i-error\"},on:{\"click\":function($event){if($event.target !== $event.currentTarget){ return null; }_vm.hideOverLayer()}}})]),_vm._v(\" \"),_c('div',{staticClass:\"popDiv\",attrs:{\"id\":\"popOne\"}},[_vm._v(\"\\n          车位号:\"+_vm._s(_vm.featureDate.carNum)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"popDiv\",attrs:{\"id\":\"popTwo\"}},[_vm._v(\"\\n          分区号:\"+_vm._s(_vm.featureDate.carArea)+\"\\n      \")]),_vm._v(\" \"),_c('div',{staticClass:\"popDiv\",attrs:{\"id\":\"popThree\"}},[_c('el-button',{staticClass:\"popBt\",attrs:{\"type\":\"primary\",\"size\":\"mini\"},on:{\"click\":_vm.deleteCar}},[_vm._v(\"删除\")])],1)])]),_vm._v(\" \"),_c('el-dialog',{staticClass:\"imgSrcDialog\",attrs:{\"title\":\"查看图片\",\"append-to-body\":true,\"lock-scroll\":true,\"modal\":true,\"close-on-click-modal\":false,\"visible\":_vm.mapVehicle,\"top\":\"35vh\",\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.mapVehicle=$event},\"close\":_vm.mapDialog}},[_c('div',{staticClass:\"map-img\"},[_c('img',{attrs:{\"src\":_vm.carNumberSrc}})])])],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler?{\"id\":\"data-v-1b858a8d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.1@vue-loader/lib/selector.js?type=template&index=0!./src/view/home/screenControl.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-1b858a8d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=styles&index=0!./screenControl.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./screenControl.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=script&index=0!./screenControl.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1b858a8d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/_vue-loader@13.7.1@vue-loader/lib/selector?type=template&index=0!./screenControl.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-1b858a8d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/home/screenControl.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}