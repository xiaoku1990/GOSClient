{"version":3,"sources":["webpack:///src/view/home/system/information.vue","webpack:///./src/view/home/system/information.vue?8cae","webpack:///./src/view/home/system/information.vue"],"names":["__webpack_exports__","name","data","departmentList","department_name","department_id","departmentFormData","user_id","Object","__WEBPACK_IMPORTED_MODULE_0__common_js_common_js__","config","userId","build_id","this","$BuildId","tableData","tablePageTotal","tableFormData","page","adding","addDialogVisiable","addFormData","add_department","superior_departmentID","superior_department","summary","editing","editDialogVisiable","editFormData","edit_department","deleteFormData","delete_department","mounted","departmentInfoLoad","tableUpdate","methods","superiorDepartmentFormatter","row","column","cellValue","_this","$http","method","url","$Api","querystring","stringify","then","response","result","concat","department_list","catch","error","$notify","title","message","duration","type","_this2","total_page","tablePageChange","addDialog","add","_this3","msg","$message","editDialog","event","cancelBubble","superior_dpID","edit","_this4","del","_this5","$confirm","confirmButtonText","cancelButtonText","system_information","render","_vm","_h","$createElement","_c","_self","staticClass","_m","_v","attrs","round","icon","size","on","click","staticStyle","width","height","prop","label","align","formatter","scopedSlots","_u","key","fn","scope","$event","current-page","page-count","layout","current-change","update:currentPage","$set","_s","append-to-body","lock-scroll","modal","close-on-click-modal","visible","top","update:visible","ref","model","label-width","span","value","callback","$$v","expression","_l","item","slot","loading","right","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","information"],"mappings":"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","file":"static/js/13.0a3be6d46814e08047de.js","sourcesContent":["<template>\n\t<div>\n\n\t\t<div class=\"main-padding stor-var\">\n\t\t\t<div class=\"auth-row\">\n\t\t\t\t<p class=\"back-title\">\n\t\t\t\t\t<span><i></i>部门列表</span>\n\t\t\t\t\t<el-button round icon=\"el-icon-plus\" size=\"small\" @click=\"addDialog\">新增记录</el-button>\n\t\t\t\t</p>\n\t\t\t\t<el-table :data=\"tableData\" height=\"100%\" style=\"width:100%\">\n\t\t\t\t\t<el-table-column prop=\"department_id\" label=\"编号\" align=\"center\" width=\"\"></el-table-column>\n\t\t\t\t\t<el-table-column prop=\"department_name\" label=\"部门\" align=\"center\" width=\"\"></el-table-column>\n          <el-table-column :formatter=\"superiorDepartmentFormatter\" prop=\"superior_department\" label=\"上级部门\" align=\"center\" width=\"\"></el-table-column>\n\t\t\t\t\t<el-table-column label=\"操作\" align=\"center\" width=\"180px\">\n\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t<el-button size=\"mini\" round @click=\"editDialog(scope.row,$event)\"><i class=\"back-i-bulr\"></i>编辑</el-button>\n\t\t\t\t\t\t\t<el-button size=\"mini\" round @click=\"del(scope.row,$event)\"><i class=\"back-i-red\"></i>删除</el-button>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</el-table-column>\n\t\t\t\t</el-table>\n\t\t\t\t<div class=\"block\">\n\t\t\t\t\t<el-pagination @current-change=\"tablePageChange\" :current-page.sync=\"tableFormData.page\" :page-count=\"tablePageTotal\" layout=\"prev, pager, next, slot, jumper\">\n            <span class=\"el-pagination__total page-count-padding\">共{{tablePageTotal}}页</span>\n          </el-pagination>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\n\t\t<!--新增弹窗-->\n\t\t<el-dialog title=\"新增部门信息\" :append-to-body='true' :lock-scroll=\"true\" :modal=\"true\" :close-on-click-modal=\"false\" :visible.sync=\"addDialogVisiable\" width=\"30%\" top=\"30vh\">\n\t\t\t<el-form ref=\"addFormData\" :model=\"addFormData\" label-width=\"80px\">\n\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t<el-form-item label=\"上级部门\">\n\t\t\t\t\t\t<el-select v-model=\"addFormData.add_department.superior_departmentID\">\n              <el-option v-for=\"item in departmentList\" :label=\"item.department_name\" :value=\"item.department_id\"></el-option>\n            </el-select>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t<el-form-item label=\"部门名称\">\n\t\t\t\t\t\t<el-input v-model=\"addFormData.add_department.department_name\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t<el-form-item label=\"部门描述\">\n            <el-input v-model=\"addFormData.add_department.summary\" type=\"textarea\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-col>\n\t\t\t</el-form>\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"addDialogVisiable = false\">取 消</el-button>\n        <el-button type=\"primary\" :loading=\"adding\" size=\"small\" round @click=\"add\">确 定</el-button>\n      </span>\n\t\t</el-dialog>\n\n\t\t<!--编辑弹窗-->\n\t\t<el-dialog title=\"编辑\" :append-to-body='true' :lock-scroll=\"true\" :modal=\"true\" :close-on-click-modal=\"false\" :visible.sync=\"editDialogVisiable\" width=\"30%\">\n\t\t\t<el-form ref=\"editFormData\" :model=\"editFormData\" label-width=\"80px\">\n        <el-col :span=\"24\">\n          <el-form-item label=\"上级部门\">\n            <el-select v-model=\"editFormData.edit_department.superior_departmentID\">\n              <el-option v-for=\"item in departmentList\" :label=\"item.department_name\" :value=\"item.department_id\"></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <el-form-item label=\"部门名称\">\n            <el-input v-model=\"editFormData.edit_department.department_name\"></el-input>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n\t\t\t\t\t<el-form-item label=\"部门描述\">\n\t\t\t\t\t\t<el-input v-model=\"editFormData.edit_department.summary\" type=\"textarea\"></el-input>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-col>\n\t\t\t</el-form>\n\t\t\t<span slot=\"footer\" class=\"dialog-footer\">\n        <el-button right @click=\"editDialogVisiable = false\">取 消</el-button>\n        <el-button type=\"primary\" :loading=\"editing\" @click=\"edit\">确 定</el-button>\n      </span>\n\t\t</el-dialog>\n\n\t</div>\n\n</template>\n\n<script>\n  import {common} from '../../../common/js/common.js'\n\texport default {\n\t\tname: \"information\",\n\t\tdata() {\n\t\t\treturn {\n        departmentList: [{ \"department_name\":\"无\", \"department_id\" : \"0\"}],\n        departmentFormData: {\n          user_id: common().config.userId,\n          build_id: this.$BuildId,\n        },\n\t\t\t\t//列表显示\n\t\t\t\ttableData: [],\n        tablePageTotal: 1,\n        tableFormData: {\n          user_id: common().config.userId,\n          build_id: this.$BuildId,\n          page: 1\n        },\n        //新增\n        adding: false,\n        addDialogVisiable: false,\n        addFormData: {\n          user_id: common().config.userId,\n          build_id: this.$BuildId,\n          add_department: {\n            department_name: \"\",\n            superior_departmentID: \"0\",\n            superior_department: \"\",\n            summary: \"\",\n          }\n        },\n\t\t\t\t//编辑\n        editing: false,\n        editDialogVisiable: false,\n        editFormData: {\n          user_id: common().config.userId,\n          build_id: this.$BuildId,\n          edit_department: {\n            department_id: \"\",\n            department_name: \"\",\n            superior_department: \"\",\n            superior_departmentID: \"\",\n            summary: \"\"\n          }\n        },\n        //删除\n        deleteFormData: {\n          user_id: common().config.userId,\n          build_id: this.$BuildId,\n          delete_department: {\n            department_id: \"\",\n            department_name: \"\"\n          }\n\t\t\t\t}\n\t\t\t}\n\t\t},\n    mounted() {\n      this.departmentInfoLoad();\n      this.tableUpdate();\n    },\n\t\tmethods: {\n      superiorDepartmentFormatter(row, column, cellValue) {\n        return (cellValue? cellValue : '无');\n      },\n      departmentInfoLoad() {\n        this.$http({\n          method: 'post',\n          url: `${this.$Api}/GOSSystem/getDepartmentInfoSpeedy`,\n          data: querystring.stringify(this.departmentFormData)\n        }).then(response => {\n          if(response.data.result === 1) {\n            this.departmentList = this.departmentList.concat(response.data.department_list);\n          }\n        }).catch((error) => {\n          this.$notify({\n            title: 'ERROR',\n            message: `${error}`,\n            duration: 2000,\n            type: 'error'\n          });\n        });\n      },\n\t\t  //列表显示\n\t\t\ttableUpdate() {\n\t\t\t\tthis.$http({\n          method: 'post',\n          url: `${this.$Api}/GOSSystem/getDepartmentInfo`,\n          data: querystring.stringify(this.tableFormData)\n        }).then(response => {\n          if(response.data.result === 1) {\n            this.tableData = response.data.department_list;\n            this.tablePageTotal = response.data.total_page;\n          }\n        }).catch((error) => {\n          this.$notify({\n            title: 'ERROR',\n            message: `${error}`,\n            duration: 2000,\n            type: 'error'\n          });\n        });\n\t\t\t},\n      tablePageChange(page) {\n        // console.log(`当前页: ${page}`);\n        this.tableUpdate();\n      },\n      //新增功能\n      addDialog() {\n        this.addDialogVisiable = true;\n        this.addFormData.add_department = {\n          department_name: \"\",\n          superior_departmentID: \"0\",\n          superior_department: \"\",\n          summary: \"\",\n        };\n      },\n      add() {\n        if(!this.addFormData.add_department.department_name) {\n          this.$message({\n            title: '注意',\n            message: '部门名称不能为空',\n            duration: 2000,\n            type: 'warning'\n          });\n          return;\n        }\n        this.adding = true;\n        this.$http({\n          method: 'post',\n          url: `${this.$Api}/GOSSystem/addDepartmentInfo`,\n          data: querystring.stringify(this.addFormData)\n        }).then(response => {\n          this.adding = false;\n          if(response.data.result === 1) {\n            this.$notify({\n              title: '成功',\n              message: response.data.msg,\n              duration: 2000,\n              type: 'success'\n            });\n            this.addDialogVisiable = false;\n            this.departmentInfoLoad();\n            this.tableUpdate();\n          } else{\n            this.$notify({\n              title: '添加失败',\n              message: response.data.msg,\n              duration: 2000,\n              type: 'error'\n            });\n          }\n        }).catch((error) => {\n          this.adding = false;\n          this.$notify({\n            title: 'ERROR',\n            message: `${error}`,\n            duration: 2000,\n            type: 'error'\n          });\n        });\n      },\n      //编辑功能\n\t\t\teditDialog(row, event) {\n\t\t\t\tevent.cancelBubble = true;\n\t\t\t\tthis.editDialogVisiable = true;\n\t\t\t\tthis.editFormData.edit_department = { //直接赋值可能是因为elenmet 方法把row进行数据绑定了\n          department_id: row.department_id,\n          department_name: row.department_name,\n          superior_department: row.superior_department,\n          superior_departmentID: row.superior_dpID,\n          summary: row.summary\n\t\t\t\t};\n\t\t\t},\n\t\t\tedit() { //导致row会全局引用\n        if(!this.editFormData.edit_department.department_name) {\n          this.$message({\n            message: '部门名称不能为空',\n            duration: 2000,\n            type: 'warning'\n          });\n          return;\n        }\n\t\t\t\tthis.editing = true;\n\t\t\t\tthis.$http({\n          method: 'post',\n          url: `${this.$Api}/GOSSystem/editDepartmentInfo`,\n          data: querystring.stringify(this.editFormData)\n        }).then(response => {\n          this.editing = false;\n          if(response.data.result === 1) {\n            this.editDialogVisiable = false;\n            this.$notify({\n              title: '成功',\n              message: response.data.msg,\n              duration: 2000,\n              type: 'success'\n            });\n            this.departmentInfoLoad();\n            this.tableUpdate();\n          } else {\n            this.$notify({\n              title: '编辑失败',\n              message: response.data.msg,\n              duration: 2000,\n              type: 'error'\n            });\n          }\n        }).catch((error) => {\n          this.editing = false;\n          this.$notify({\n            title: 'ERROR',\n            message: `${error}`,\n            duration: 2000,\n            type: 'error'\n          });\n        });\n\t\t\t},\n      //删除功能\n\t\t\tdel(row, event) {\n        event.cancelBubble = true;\n        this.$confirm('此操作将永久删除该部门, 是否继续?', '提示', {\n          confirmButtonText: '确定',\n          cancelButtonText: '取消',\n          type: 'warning'\n        }).then(() => {\n          this.deleteFormData.delete_department = {\n            department_id: row.department_id,\n            department_name: row.department_name\n          };\n          this.$http({\n            method: 'post',\n            url: `${this.$Api}/GOSSystem/deleteDepartmentInfo`,\n            data: querystring.stringify(this.deleteFormData)\n          }).then(response => {\n            if(response.data.result === 1) {\n              this.$notify({\n                type: 'success',\n                title: '成功',\n                message: response.data.msg,\n                duration: 2000\n              });\n              this.departmentInfoLoad();\n              this.tableUpdate();\n            } else {\n              this.$notify({\n                type: 'error',\n                title: '删除失败',\n                message: response.data.msg,\n                duration: 2000\n              });\n            }\n          }).catch((error) => {\n            this.$notify({\n              title: 'ERROR',\n              message: `${error}`,\n              duration: 2000,\n              type: 'error'\n            });\n          });\n        }).catch(() => {\n          // console.log('取消删除');\n        });\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style scoped lang=\"scss\">\n\t@import \"../../../style/variables.scss\";\n\t.back-nav {\n\t\tbackground: #fff;\n\t\tpadding: 12px 20px;\n\t\tmargin: 0px;\n\t\tmargin-bottom: 20px;\n\t}\n\n\t.auth-row {\n\t\tdisplay: flex;\n\t\theight: calc(100% - 120px);\n\t\t/*width: calc(100% - 226px);*/\n\t\twidth: 100%;\n\t\tflex-direction: column;\n\t\t.el-table {\n\t\t\tflex: 6 0 auto;\n\t\t}\n\t\t.back-title {\n\t\t\tflex: 1 0 auto;\n\t\t\tfloat: left;\n\t\t\ttext-align: right;\n\t\t\tline-height: 30px;\n\t\t\tmargin-bottom: 10px;\n\t\t\twidth: 100%;\n\t\t\tspan {\n\t\t\t\tfloat: left;\n\t\t\t\tcolor: #7362e4;\n\t\t\t\ti {\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\theight: 18px;\n\t\t\t\t\tfloat: left;\n\t\t\t\t\tbackground: #7362e4;\n\t\t\t\t\twidth: 3px;\n\t\t\t\t\tmargin-right: 6px;\n\t\t\t\t\tposition: relative;\n\t\t\t\t\ttop: 6px;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t.block {\n\t\t\tflex: 1 0 auto;\n\t\t\ttext-align: center;\n\t\t\tmargin: 20px 0px;\n\t\t}\n\t}\n\n\t.back-i-bulr {\n\t\tdisplay: inline-block;\n\t\theight: 10px;\n\t\twidth: 10px;\n\t\tborder-radius: 25px;\n\t\tmargin-right: 6px;\n\t\tbackground: $green;\n\t}\n\n\t.back-i-red {\n\t\tdisplay: inline-block;\n\t\theight: 10px;\n\t\twidth: 10px;\n\t\tmargin-right: 6px;\n\t\tborder-radius: 25px;\n\t\tbackground: $red;\n\t}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/view/home/system/information.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"main-padding stor-var\"},[_c('div',{staticClass:\"auth-row\"},[_c('p',{staticClass:\"back-title\"},[_vm._m(0),_vm._v(\" \"),_c('el-button',{attrs:{\"round\":\"\",\"icon\":\"el-icon-plus\",\"size\":\"small\"},on:{\"click\":_vm.addDialog}},[_vm._v(\"新增记录\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.tableData,\"height\":\"100%\"}},[_c('el-table-column',{attrs:{\"prop\":\"department_id\",\"label\":\"编号\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"department_name\",\"label\":\"部门\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"formatter\":_vm.superiorDepartmentFormatter,\"prop\":\"superior_department\",\"label\":\"上级部门\",\"align\":\"center\",\"width\":\"\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\",\"width\":\"180px\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){_vm.editDialog(scope.row,$event)}}},[_c('i',{staticClass:\"back-i-bulr\"}),_vm._v(\"编辑\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"mini\",\"round\":\"\"},on:{\"click\":function($event){_vm.del(scope.row,$event)}}},[_c('i',{staticClass:\"back-i-red\"}),_vm._v(\"删除\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"block\"},[_c('el-pagination',{attrs:{\"current-page\":_vm.tableFormData.page,\"page-count\":_vm.tablePageTotal,\"layout\":\"prev, pager, next, slot, jumper\"},on:{\"current-change\":_vm.tablePageChange,\"update:currentPage\":function($event){_vm.$set(_vm.tableFormData, \"page\", $event)}}},[_c('span',{staticClass:\"el-pagination__total page-count-padding\"},[_vm._v(\"共\"+_vm._s(_vm.tablePageTotal)+\"页\")])])],1)],1)]),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"新增部门信息\",\"append-to-body\":true,\"lock-scroll\":true,\"modal\":true,\"close-on-click-modal\":false,\"visible\":_vm.addDialogVisiable,\"width\":\"30%\",\"top\":\"30vh\"},on:{\"update:visible\":function($event){_vm.addDialogVisiable=$event}}},[_c('el-form',{ref:\"addFormData\",attrs:{\"model\":_vm.addFormData,\"label-width\":\"80px\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"上级部门\"}},[_c('el-select',{model:{value:(_vm.addFormData.add_department.superior_departmentID),callback:function ($$v) {_vm.$set(_vm.addFormData.add_department, \"superior_departmentID\", $$v)},expression:\"addFormData.add_department.superior_departmentID\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{attrs:{\"label\":item.department_name,\"value\":item.department_id}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"部门名称\"}},[_c('el-input',{model:{value:(_vm.addFormData.add_department.department_name),callback:function ($$v) {_vm.$set(_vm.addFormData.add_department, \"department_name\", $$v)},expression:\"addFormData.add_department.department_name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"部门描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.addFormData.add_department.summary),callback:function ($$v) {_vm.$set(_vm.addFormData.add_department, \"summary\", $$v)},expression:\"addFormData.add_department.summary\"}})],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.addDialogVisiable = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.adding,\"size\":\"small\",\"round\":\"\"},on:{\"click\":_vm.add}},[_vm._v(\"确 定\")])],1)],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"编辑\",\"append-to-body\":true,\"lock-scroll\":true,\"modal\":true,\"close-on-click-modal\":false,\"visible\":_vm.editDialogVisiable,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.editDialogVisiable=$event}}},[_c('el-form',{ref:\"editFormData\",attrs:{\"model\":_vm.editFormData,\"label-width\":\"80px\"}},[_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"上级部门\"}},[_c('el-select',{model:{value:(_vm.editFormData.edit_department.superior_departmentID),callback:function ($$v) {_vm.$set(_vm.editFormData.edit_department, \"superior_departmentID\", $$v)},expression:\"editFormData.edit_department.superior_departmentID\"}},_vm._l((_vm.departmentList),function(item){return _c('el-option',{attrs:{\"label\":item.department_name,\"value\":item.department_id}})}))],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"部门名称\"}},[_c('el-input',{model:{value:(_vm.editFormData.edit_department.department_name),callback:function ($$v) {_vm.$set(_vm.editFormData.edit_department, \"department_name\", $$v)},expression:\"editFormData.edit_department.department_name\"}})],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":24}},[_c('el-form-item',{attrs:{\"label\":\"部门描述\"}},[_c('el-input',{attrs:{\"type\":\"textarea\"},model:{value:(_vm.editFormData.edit_department.summary),callback:function ($$v) {_vm.$set(_vm.editFormData.edit_department, \"summary\", $$v)},expression:\"editFormData.edit_department.summary\"}})],1)],1)],1),_vm._v(\" \"),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{attrs:{\"right\":\"\"},on:{\"click\":function($event){_vm.editDialogVisiable = false}}},[_vm._v(\"取 消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\",\"loading\":_vm.editing},on:{\"click\":_vm.edit}},[_vm._v(\"确 定\")])],1)],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('span',[_c('i'),_vm._v(\"部门列表\")])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-3d25e49e\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/view/home/system/information.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-3d25e49e\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./information.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./information.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./information.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-3d25e49e\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./information.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-3d25e49e\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/view/home/system/information.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}