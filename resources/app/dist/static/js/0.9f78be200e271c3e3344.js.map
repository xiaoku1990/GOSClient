{"version":3,"sources":["webpack:///./static/img/up.png","webpack:///src/components/modules/charts/lineChart.vue","webpack:///./src/components/modules/charts/lineChart.vue?1507","webpack:///./src/components/modules/charts/lineChart.vue","webpack:///./src/common/js/common.js","webpack:///./node_modules/_core-js@2.5.7@core-js/library/fn/object/define-property.js","webpack:///./node_modules/_core-js@2.5.7@core-js/library/modules/es6.object.define-property.js","webpack:///./src/common/js/json2Xlsx.js","webpack:///./static/img/down.png","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/defineProperty.js","webpack:///./src/common/js/date.js","webpack:///./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js","webpack:///./static/ol/findMapOOB.js"],"names":["module","exports","lineChart","name","props","dataArray","Array","xField","String","Number","yField","xName","yName","xFormatter","Function","yFormatter","valueMax","watch","val","this","chartOption","dataset","source","updateChart","data","_this","chart","chartTrue","tooltip","trigger","axisPointer","type","label","backgroundColor","formatter","params","formatterStr","seriesData","length","Math","floor","value","replace","dataIndex","yValue","yformatter","marker","axisValueLabel","xAxis","boundaryGap","axisLabel","color","fontSize","yAxis","axisLine","lineStyle","nameTextStyle","min","max","series","encode","x","y","areaStyle","normal","$echarts","graphic","LinearGradient","offset","emphasis","itemStyle","mounted","initChart","computed","charResize","resize","store","state","vuexWidth","methods","init","$refs","myEchart","setOption","charts_lineChart","render","_vm","_h","$createElement","_self","_c","ref","staticClass","model","callback","$$v","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","onClickOneDay","picker","date","Date","setTime","getTime","$emit","onClickThreeDay","onClickOneWeek","onClickOneMonth","onClickThreeMonth","onClickHalfYear","onClickOneYear","baseUrl","floorBase","floor_name","floor_id","area_list","areaBase","area_name","area_id","url","floorAreaList","stopDailyLog","carposRatioChart","lightManager","lightDeviceList","environmentManager","environmentList","getErrorLog","util","floorAreaListAppendNull","list","resultList","concat","i","tempAreaList","carTypes","car_type_id","car_type_name","deviceTypes","dev_type_id","dev_type_name","dates","text","onClick","sheetHeaderTitles","sheetHeaderFields","carposRatioSheetHeaderTitles","carposRatioSheetHeaderFields","auth","id","children","config","userId","pageItemSize","smallPageItemSize","tableExportName","carposRatioTableExportName","tableDateFormat","tableExportDateFormat","tableDisplayDateFormat","htmlDateFormat","coAverageMaxValue","$Object","Object","it","key","desc","defineProperty","$export","S","F","f","vue","sheetHeaderTitleArray","sheetHeaderFieldArray","jsonData","xlsxName","sheetHeader","sheetOption","export_name","export_type","export_name_default","export_type_default","ws","XLSX","utils","json_to_sheet","header","wb","SheetNames","Sheets","Props","sheet_add_json","fileSaver","saveAs","Blob","s","ArrayBuffer","buf","view","Uint8Array","charCodeAt","s2ab","write","bookType","downloadExl","skipHeader","origin","bookSST","__esModule","obj","_defineProperty","_defineProperty2","default","enumerable","configurable","writable","padLeftZero","str","substr","fmt","test","RegExp","$1","getFullYear","o","M+","getMonth","d+","getDate","h+","getHours","m+","getMinutes","s+","getSeconds","k","d","floorName","OlBuildId","OlFloorId","olMapType","timeDate","OlWidth","OlHeight","OlFloorNum","sourceInterPoint","sourceLight","localUrl","carMapDate","carStateDate","carStateInter","carUseDate","dataurl","mapUrl","up","document","createElement","setAttribute","upImg","appendChild","down","floorUl","downImg","Camera","build","floorId","build_id","cameraUrl","param","coordinates","setCameraStyle","style","ol","Style","image","Icon","src","scale","setStyle","BasicCar","carDate","carArea","carFloor","carFloorID","carNum","carUID","carposPoint","car_state","car_number","car_enterTime","car_picUrl","car_videoUrl","setCarColor","fill","Fill","stroke","Stroke","width","Text","font","textAlign","CarPort","setPortColor","align","stylePoint","CarEventPort","InterLayer","interDate","inpointFloorID","inpointID","inpointType","inpointName","inpointfloor","setInterImg","interType","interStyle","cityId","buildId","$","ajax","cache","async","dataType","cityID","buildingID","success","result","buildResult","olmapWidth","olmapHeight","console","log","error","xhr","status","statusText","getBuildInfo","beefindDevice","Vector","lightParamData","lightIndex","param_list","flag","dev_type","prototype","Feature","cameraDevice","setGeometry","geom","Point","addFeature","deviceLayer","setSource","versionThree","j","downFloor","floorHeight","height","floorOutTop","top","scrollTop","marTop","floorLiTop","css","v","font-size","loadMap","floorUrl","floorNum","BeefindMap","beefindCar","upFloor","refreshUseCar","addEventListener","floorSuccess","sourceCar","sourceEventCarPoint","screenStyle","vipCarStyle","changeCarState","carFeature","eventCarFeature","t","carpos_Info","carpos_gid","r","addCarUse","e","carpos_ratio","carState","user_id","timesout","carMapState","mapType","carEventFeature","floorID","alert","messageone","response_carpos","interPoint","response_inpoint","carpos_sum","setInterval","clearInterval","time","postTime","start_time","end_time","carUseState","eachCarpos_list","undefined","q","portEventCar","car","Polygon","carLayer","carLayerEventPoint","basicDrawCar","getSource","getFeatures","interData","interPointLayer","clear","pointInter","interPointVector","crearteFloor","floorMapUrl","index","floorLi","innerText","innerHTML","overflow","offsetTop","configFloorUrl","TileWMS","layers","serverType","layer","mapserveFloor","timeout","olZoom","olMapCenter","parseFloat","map","getView","setCenter","setZoom","response","z","Tile","carLayerPoint","screenLayer","vipIconLayer","addPointLayer","interactions","interaction","defaults","altShiftDragRotate","pinchRotate","Map","target","controls","control","attributionOptions","collapsible","View","center","projection","zoom","maxZoom","minZoom","extent","logo","attribution","options","extend","obj2","city_id","urlLocal","floor_num","floorBarVisible","carLayerVisible","carPortLayerVisible","interLayerVisible","deviceLayerVisible","setTarget","show","hide","setVisible","nextFloor","beforeFloor","constructor","on","getZoom","getVideoUrl","device_id","device_area","floorid","videoUrlDate","device_floorID","getCameraDate","cameraDate","dev_id","clearStateInter","addScreen","screen_x","screen_y","screenFeature","addVipIcon","vipIconFeature","screenCarColor","screenCar","carGid","carFuter","checkScreenCar","checkScreenEventCar","forEach","arr","choseCar","message","indexT","carColor","carpos_list","item","filter","screenEventCar","resetCarColor","resetFeatureCarColor","featrue","featrueNow","setVipCarColor","VipCar","car_numbers","valT","arrT","findCarFeature","feature"],"mappings":"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","file":"static/js/0.9f78be200e271c3e3344.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NERDOEM0RjQ1N0RFMTFFNzg3MEE4RTJGNTMwMTRFODEiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NERDOEM0RjU1N0RFMTFFNzg3MEE4RTJGNTMwMTRFODEiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0REM4QzRGMjU3REUxMUU3ODcwQThFMkY1MzAxNEU4MSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0REM4QzRGMzU3REUxMUU3ODcwQThFMkY1MzAxNEU4MSIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PnY1M3EAAAH1SURBVHja7NndSgJBFAfw4ygV+AgVXmkJBUIQRBDUK0Q3XfQMXvQSEdE7FFT0CEEQZR/2QR9Wa6K4XpgFqVGsWJtO8xeSLaIvVx1jDojs7Jxzfi7r7K66Oju7A263e8Hv7+1nzEmyRLlcIk2LRgzDmCKvtyei6zqXMeCCj/l8vj6Px0MyBlzwMYfDQTIHfIxaIBRSIRVSIf8Lcj2bI+9GqPIuHZKL12I6Q5PHZ/Tw8lJ5xzaXBVninGYSSZrWrt6NYxvj2N9UpCkAQYGZT6Y+3Y9x7DdrhLr+mvhcLtPkSYS2cvkv561e31Cm+ERLgX5qY6xxR7JQKtFo+PBb4FtgHuYjryHI7LNJA9t7FDcKv8rDfOQhv67IeKFAgdAu5f7QCIE85KNOXZDb+Xsa3tmvnIu1BPJRB/VsRa5kbmn86MTWBRr1UNcW5GxSp+CFZtvCbL0AoC7q14QMalGaS+i2A61Q1EefXyORPHF8Ssvpm7oBrb3QB/34T5FFcWKPhQ9oM5unRgb6jYq+xU++mO+Qd2KJGNoJ0+Wj0ZRbMk30Rf+7D0tcFWmKTzCyd0DX4hLWzEB/OEzLEa0ineIhvKujXYqbXDiclh8tqjcYTAyuDQ6oxweFVEiFVMhWRHLOpQbCx2Kx2HkqlZISCBd8jlb4H+dVgAEAGPGdickdqLcAAAAASUVORK5CYII=\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/up.png\n// module id = 6BN9\n// module chunks = 0","<template>\n  <div class=\"line-chart\" v-model=\"charResize\" ref=\"myEchart\"></div>\n</template>\n\n<script>\n  import store from '../../../store/index'\n\n  export default {\n    name: \"line-chart\",\n    props: {\n      dataArray: Array,\n      xField: String|Number,\n      yField: String|Number,\n      xName: String,\n      yName: String,\n      xFormatter: String|Function,\n      yFormatter: String|Function,\n      valueMax: String|Number\n    },\n    watch: {\n      dataArray: function (val) {\n        this.chartOption.dataset.source = val;\n        this.updateChart();\n      }\n    },\n    data() {\n      return {\n        chart: null,\n        chartTrue: false,\n        chartOption: {\n          // backgroundColor: \"#2c343c\",\n          tooltip: {\n            trigger: 'axis',\n            axisPointer: {\n              type: 'cross',\n              label: {\n                backgroundColor: '#8c7cde',\n                formatter: (params) => {\n                  let formatterStr = (params.seriesData.length? 'xFormatter' : 'yFormatter');\n                  if(typeof(this[formatterStr]) === 'undefined') return Math.floor(params.value * 100) / 100;  //无formatter就原封不动返回value\n\n                  let formatter = this[formatterStr];\n                  if(typeof(formatter) === 'string') {\n                    formatter = formatter.replace('{value}', Math.floor(params.value * 100) / 100);\n                    return formatter;\n                  } else if(typeof(formatter) === 'function') {\n                    return formatter(params.value, params.seriesData[0].dataIndex);\n                  }\n                }\n              }\n            },\n            formatter: (params) => {\n              let yValue = params[0].value[this.yField];\n              if(typeof(this.yFormatter) !== 'undefined') {\n                let yformatter = this.yFormatter;\n                if(typeof(yformatter) === 'string') {\n                  yValue = yformatter.replace('{value}', Math.floor(yValue * 100) / 100);\n                } else if(typeof(yformatter) === 'function') {\n                  yValue = yformatter(yValue, params[0].dataIndex);\n                }\n              }\n              return params[0].marker + params[0].axisValueLabel + ': ' + yValue;\n            }\n          },\n          dataset: {\n            source: this.dataArray\n          },\n          xAxis: {\n            name: this.xName,\n            type: 'category',\n            boundaryGap: false,\n            axisLabel: {\n              formatter: this.xFormatter,\n              color: '#666',\n              fontSize: 12\n            },\n            //data: ['11:11', '11:12', '11:13', '11:14', '11:15', '11:16', '11:17','11:18','11:17','11:18','11:19','11:20','11:21','11:22']\n          },\n          yAxis: {\n            name: this.yName,\n            type: 'value',\n            axisLine: {\n              lineStyle: {\n                color: '#666'\n              }\n            },\n            nameTextStyle: {\n              color: '#666',\n              fontSize: 12\n            },\n            min: 0,\n            max: this.valueMax,\n            axisLabel: {\n              formatter: this.yFormatter,\n              color: '#666',\n              fontSize: 12\n            }\n          },\n          series: [{\n            //data: [30, 40, 50, 40, 45, 60, 70,82,83,92,94,95,100],\n            encode: {\n              x: this.xField,\n              y: this.yField\n            },\n            type: 'line',\n            areaStyle: {\n              normal: {\n                color: new this.$echarts.graphic.LinearGradient(\n                  0, 0, 0, 1, [{\n                    offset: 0,\n                    color: '#c6b9ff'\n                  },\n                    {\n                      offset: 1,\n                      color: '#e4dffd'\n                    }\n                  ]\n                )\n              }\n            },\n            // itemStyle: {\n            //   opacity: 0.2\n            // },\n            lineStyle: {\n              normal: {\n                // color: 'e4dffd'\n                color: 'transparent'\n              }\n            },\n            emphasis: {\n              itemStyle: {\n                color: '#c6b9ff',\n                // borderColor: '#fff',\n                // borderWidth: 11,\n                // borderType: 'solid',\n                // opacity: 1\n              },\n            }\n          }]\n        }\n      }\n    },\n    mounted() {\n      this.initChart();\n    },\n    computed: {\n      charResize() {\n        if (this.chartTrue) {\n          this.chart.resize();\n        }\n        return store.state.vuexWidth\n      }\n    },\n    methods: {\n      //表格加载\n      initChart() {\n        this.chart = this.$echarts.init(this.$refs.myEchart);\n        // 把配置和数据放这里\n        this.chart.setOption(this.chartOption);\n        this.chartTrue = true\n      },\n      updateChart() {\n        // console.log('更新 line chart: ');\n        this.chart.setOption({ dataset: { source: this.dataArray } });\n      }\n    }\n  }\n</script>\n\n<style scoped lang=\"scss\">\n  .line-chart {\n    position: absolute;\n    height: 100%;\n    width: 100%;\n  }\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/modules/charts/lineChart.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"myEchart\",staticClass:\"line-chart\",model:{value:(_vm.charResize),callback:function ($$v) {_vm.charResize=$$v},expression:\"charResize\"}})}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler?{\"id\":\"data-v-0f2c6c89\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/_vue-loader@13.7.2@vue-loader/lib/selector.js?type=template&index=0!./src/components/modules/charts/lineChart.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/_extract-text-webpack-plugin@3.0.2@extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-0f2c6c89\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!sass-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=styles&index=0!./lineChart.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./lineChart.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=script&index=0!./lineChart.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-0f2c6c89\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/_vue-loader@13.7.2@vue-loader/lib/selector?type=template&index=0!./lineChart.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-0f2c6c89\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/modules/charts/lineChart.vue\n// module id = null\n// module chunks = ","export function common() {\n\n  const baseUrl = '/GOSSystem/';\n  // const baseUrl = 'http://localhost:8080/static/html/jsontest/';\n\n  const floorBase = [{ floor_name: '不限', floor_id: 0, area_list: [] }];\n  const areaBase = [{ area_name: '不限', area_id: 0 }];\n\n  return {\n    url: {\n      floorAreaList: baseUrl + 'getFloorAreaList',\n      stopDailyLog: baseUrl + 'getStopDailyLog',\n      carposRatioChart: baseUrl + 'getCarposRatioChart',\n      lightManager: baseUrl + 'lightManager',\n      lightDeviceList: baseUrl + 'lightDeviceList',\n      environmentManager: baseUrl + 'environmentManager',\n      environmentList: baseUrl + 'environmentList',\n      getErrorLog: baseUrl + 'getErrorLog'\n    },\n    util: {\n      floorAreaListAppendNull(list) {\n        let resultList = floorBase.concat(list);\n        for(let i in resultList) {\n          let tempAreaList = areaBase.concat(resultList[i].area_list)\n          resultList[i].area_list = tempAreaList;\n        }\n        return resultList;\n      }\n    },\n    list: {\n      carTypes: [\n        {car_type_id: 0, car_type_name: '不限'},\n        {car_type_id: 1, car_type_name: '正常'},\n        {car_type_id: 2, car_type_name: '超时车'},\n        {car_type_id: 3, car_type_name: '过夜车'},\n        {car_type_id: 4, car_type_name: '违停车'}\n      ],\n      deviceTypes: [\n        {dev_type_id: 0, dev_type_name: '全部'},\n        {dev_type_id: 1, dev_type_name: '灯'},\n        {dev_type_id: 2, dev_type_name: '照片摄像头'},\n        {dev_type_id: 3, dev_type_name: 'wifi'},\n        {dev_type_id: 4, dev_type_name: '蓝牙'},\n        {dev_type_id: 5, dev_type_name: '2.4G'},\n        {dev_type_id: 6, dev_type_name: '红绿灯'},\n        {dev_type_id: 7, dev_type_name: '视频摄像头'},\n        {dev_type_id: 8, dev_type_name: '引导屏'},\n        {dev_type_id: 9, dev_type_name: '扩展坞'},\n        {dev_type_id: 10, dev_type_name: '一氧化碳传感器'},\n        {dev_type_id: 11, dev_type_name: '音响'}\n      ],\n      dates: [\n        {text: '昨天', onClick: onClickOneDay},\n        {text: '三天前', onClick: onClickThreeDay},\n        {text: '一周前', onClick: onClickOneWeek},\n        {text: '一个月前', onClick: onClickOneMonth},\n        {text: '三个月前', onClick: onClickThreeMonth},\n        {text: '半年前', onClick: onClickHalfYear},\n        {text: '一年前', onClick: onClickOneYear}\n      ],\n      sheetHeaderTitles: [\n        '停车类型',\n        '进入车位时间',\n        '驶出车位时间',\n        '停放时长',\n        '楼层',\n        '车区',\n        '车位',\n        '车牌'\n      ],\n      sheetHeaderFields: [\n        'car_type',\n        'in_time',\n        'out_time',\n        'stop_time',\n        'floor_name',\n        'area_name',\n        'carpos_name',\n        'car_number'\n      ],\n      carposRatioSheetHeaderTitles: [\n        '楼层',\n        '区域',\n        '入位车流',\n        '出位车流',\n        '车位数',\n        '统计时间',\n        '车位利用率'\n      ],\n      carposRatioSheetHeaderFields: [\n        'floor_name',\n        'area_name',\n        'inCarpos',\n        'outCarpos',\n        'totalCarpos',\n        'time',\n        'value'\n      ],\n      auth: [\n        { id: 0, label: '车辆状态图' },//1\n        { id: 1, label: '车位利用率' },//2\n        { id: 2, label: '黑白名单' },//4\n        { id: 3, label: '停车日志' },//8\n        { id: 4, label: '监控管理' },//16\n        { id: 5, label: '照明系统' },//32\n        { id: 6, label: '环境系统' },//64\n        { id: 7, label: '引导屏管理' },//128\n        { id: 8, label: '车位管理' },//256\n        { id: 9, label: '寻车管理' },//512\n        { id: 10, label: '故障日志' },//1024\n        { id: 11, label: '系统管理', children: [//2048\n          //以下对应smallRight，实际计算的时候，id要-1000\n          { id: 1000, label: '通用设置' },\n          { id: 1001, label: '部门信息管理' },\n          { id: 1002, label: '角色管理与授权' },\n          { id: 1003, label: '人员管理与授权' },\n          { id: 1004, label: '敏感操作日志' },\n          // { id: 1005, label: '车区管理' }\n        ]}\n      ]\n    },\n    config: {\n      userId: '1',  //TODO\n      pageItemSize: 10,\n      smallPageItemSize: 5, //用于上下空间扁的表格\n      tableExportName: '停车日志导出_',\n      carposRatioTableExportName: '车位利用率导出_',\n      tableDateFormat: 'yyyy-MM-dd hh:mm:ss', //用于数据传递或者比较\n      tableExportDateFormat: 'yyyyMMddhhmmss',  //用于导出\n      tableDisplayDateFormat: 'yyyy-MM-dd HH:mm', //用于html datepicker控件显示\n      htmlDateFormat: 'yyyy-MM-dd HH:mm:SS',  //用于html datepicker控件数值\n      coAverageMaxValue: 200\n    }\n  };\n};\n\nfunction onClickOneDay(picker) {\n  const date = new Date();\n  date.setTime(date.getTime() - 3600 * 1000 * 24);\n  picker.$emit('pick', date);\n}\n\nfunction onClickThreeDay(picker) {\n  const date = new Date();\n  date.setTime(date.getTime() - 3600 * 1000 * 24 * 3);\n  picker.$emit('pick', date);\n}\n\nfunction onClickOneWeek(picker) {\n  const date = new Date();\n  date.setTime(date.getTime() - 3600 * 1000 * 24 * 7);\n  picker.$emit('pick', date);\n}\n\nfunction onClickOneMonth(picker) {\n  const date = new Date();\n  date.setTime(date.getTime() - 3600 * 1000 * 24 * 30);\n  picker.$emit('pick', date);\n}\n\nfunction onClickThreeMonth(picker) {\n  const date = new Date();\n  date.setTime(date.getTime() - 3600 * 1000 * 24 * 90);\n  picker.$emit('pick', date);\n}\n\nfunction onClickHalfYear(picker) {\n  const date = new Date();\n  date.setTime(date.getTime() - 3600 * 1000 * 24 * 180);\n  picker.$emit('pick', date);\n}\n\nfunction onClickOneYear(picker) {\n  const date = new Date();\n  date.setTime(date.getTime() - 3600 * 1000 * 24 * 365);\n  picker.$emit('pick', date);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/common.js","require('../../modules/es6.object.define-property');\nvar $Object = require('../../modules/_core').Object;\nmodule.exports = function defineProperty(it, key, desc) {\n  return $Object.defineProperty(it, key, desc);\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.5.7@core-js/library/fn/object/define-property.js\n// module id = JhHb\n// module chunks = 0","var $export = require('./_export');\n// 19.1.2.4 / 15.2.3.6 Object.defineProperty(O, P, Attributes)\n$export($export.S + $export.F * !require('./_descriptors'), 'Object', { defineProperty: require('./_object-dp').f });\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_core-js@2.5.7@core-js/library/modules/es6.object.define-property.js\n// module id = SAFe\n// module chunks = 0","const export_type_xlsx = {bookType: 'xlsx', bookSST: false, type: 'binary'};\nconst export_type_csv = {bookType: 'csv', bookSST: false, type: 'binary'};\nconst export_type_ods = {bookType: 'ods', bookSST: false, type: 'binary'};\nconst export_type_xlsb = {bookType: 'xlsb', bookSST: false, type: 'binary'};\nconst export_type_fods = {bookType: 'fods', bookSST: false, type: 'binary'};\nconst export_type_xls = {bookType: 'biff2', bookSST: false, type: 'binary'};  //xls无法显示中文\n\nconst export_type_default = export_type_xlsx;\nconst export_name_default = 'ExportTable';\n\nexport function json2Xlsx(vue, sheetHeaderTitleArray, sheetHeaderFieldArray, jsonData, xlsxName) {\n  const sheetOption = {\n    header: sheetHeaderFieldArray,\n    skipHeader: true,\n    origin: \"A2\"\n  };\n  downloadExl(vue, sheetHeaderTitleArray, jsonData, sheetOption, xlsxName);\n};\n\nfunction downloadExl(vue, sheetHeader, jsonData, sheetOption, export_name, export_type) {\n  if (!export_name) export_name = export_name_default;\n  if (!export_type) export_type = export_type_default;\n  let ws = vue.XLSX.utils.json_to_sheet([], {header: sheetHeader});\n  let wb = {SheetNames: [export_name], Sheets: sheetHeader, Props: {}};\n\n  vue.XLSX.utils.sheet_add_json(ws, jsonData, sheetOption);\n  wb.Sheets[export_name] = ws;\n\n  vue.fileSaver.saveAs(\n    new Blob(\n      [s2ab(vue.XLSX.write(wb, export_type))],\n      {type: 'application/octet-stream'}),\n    export_name + '.' + (export_type.bookType == \"biff2\" ? 'xls' : export_type.bookType));\n}\n\nfunction s2ab(s) {\n  if (typeof ArrayBuffer !== 'undefined') {\n    let buf = new ArrayBuffer(s.length);\n    let view = new Uint8Array(buf);\n    for (let i = 0; i != s.length; ++i) view[i] = s.charCodeAt(i) & 0xFF;\n    return buf;\n  } else {\n    let buf = new Array(s.length);\n    for (let i = 0; i != s.length; ++i) buf[i] = s.charCodeAt(i) & 0xFF;\n    return buf;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/json2Xlsx.js","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAYAAACoYAD2AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoV2luZG93cykiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NUExQzlFQkE1N0RFMTFFN0E3RjBCQ0MyRTEwN0M3OEMiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NUExQzlFQkI1N0RFMTFFN0E3RjBCQ0MyRTEwN0M3OEMiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo1QTFDOUVCODU3REUxMUU3QTdGMEJDQzJFMTA3Qzc4QyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo1QTFDOUVCOTU3REUxMUU3QTdGMEJDQzJFMTA3Qzc4QyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PhhsNOAAAAIUSURBVHja7JlNSwJRFIbPXLUGh6I0KBvCRNOm7y/7tAjatG4RBdW6bVT0J1q0bN2mRbRvVRBEizAKI8s2Cv2CQqhF2n0jJEpkckYd4Z7lzDnveWbm3nPOZeyq2jagKMqBpnX2MmYjq1gm80Hx+EMsnU6vUUdHKJZMJrNWNHCBjwWDwR6v10tWNHCBj0mSRFY28DGqAhOQAlJACsgKmj3XK7NZmr+6ptuX14pD9dfX0Ul4iNh3o8m9yQ8O+fz2bok3Bw7w/PncDsbofDxMrXJtRQGRHxzgybsmm2ocdDk5RlqdUhHALp4X+cFRcOPI/AnOxsI0424sKyDynfK8MmP6djeW69FgPy2rLVTqGQn6yIN8UjElaE/rpE1/e8lAoQt95DFUJ7d9XKRbMx0UetCFvu46WciWPM3UxnfdQvTGNMjj4QGaamwwt+NA8GJylGqYsSaFeOjoBfx3Www4nXQTmSDXrxKh1xCHeOiUtHe7eaLo1DgFlP8lgj/i3EU8YFHfzmmz8Vo6QtMufbUUfvBHXFmnIKytw8E+WmxtKeiH+/AzspYN7QIHn1L2tBBt+PKf23Ed9x0Gj812o6XExgF2/D5SZZm24o+567scbkX1mFJf7SZofIGsciBMMOuxe9rv7aI5t8v8odcMA9jTbESccQSkgBSQArLckNkfh3ArGvhYIpG4S6VSlgQEF/ikaviP8ynAANepEZhL4SZtAAAAAElFTkSuQmCC\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/img/down.png\n// module id = WIY8\n// module chunks = 0","\"use strict\";\n\nexports.__esModule = true;\n\nvar _defineProperty = require(\"../core-js/object/define-property\");\n\nvar _defineProperty2 = _interopRequireDefault(_defineProperty);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = function (obj, key, value) {\n  if (key in obj) {\n    (0, _defineProperty2.default)(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/helpers/defineProperty.js\n// module id = a3Yh\n// module chunks = 0","export function formatDate(date,fmt) {\n  if(!(date instanceof Date)) {\n    date = new Date(date * 1000);\n  }\n  if(/(y+)/.test(fmt)){\n    fmt = fmt.replace(RegExp.$1, (date.getFullYear()+'').substr(4-RegExp.$1.length));\n  }\n  let o = {\n    'M+': date.getMonth()+1,\n    'd+': date.getDate(),\n    'h+': date.getHours(),\n    'm+': date.getMinutes(),\n    's+': date.getSeconds()\n  }\n  for(let k in o){\n    let str = o[k]+'';\n    if(new RegExp(`(${k})`).test(fmt)){\n      fmt = fmt.replace(RegExp.$1, (RegExp.$1.length===1)?str:padLeftZero(str));\n    }\n  }\n  return fmt;\n};\n\nfunction padLeftZero(str){\n  return ('00'+str).substr(str.length);\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/js/date.js","module.exports = { \"default\": require(\"core-js/library/fn/object/define-property\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_babel-runtime@6.26.0@babel-runtime/core-js/object/define-property.js\n// module id = liLe\n// module chunks = 0","var module = (function () {\n\n  var build;\n  var floor;\n  var floorName;//楼层名\n\n  var OlBuildId;\n  var OlFloorId;\n  var olMapType;//地图类型\n  var timeDate;//时间对象包含(startTime,endTime)\n  var OlWidth;//项目宽\n  var OlHeight;//项目的高\n  var OlFloorNum;\n  var OlFloorIdIndex;\n  var sourceInterPoint;\n  var sourceLight;\n  var url = 'http://139.196.5.153:8080';\n  var dataurl = 'http://139.196.5.153:8080';\n  var mapUrl = 'http://139.196.5.153:8181/geoserver/wms?';\n  //var localUrl = 'http://192.168.0.100:8421';\n  //var localUrl='http://127.0.0.1:8007';\n  var localUrl;\n  //\n  var carRuleIndex;//用于违规车辆提示\n\n  var carMapDate;\n  var carStateDate;\n  var carStateInter;//定时刷新车位状态\n  var carUseDate;//车位利用率\n\n//:創建楼层控件\n//var body=document.body;\n//var body=document.getElementById('map');\n\n  var up = document.createElement('div');\n  up.setAttribute('id', 'up');\n  // up.setAttribute('@click=',\"clickSuccess()\");\n  var upImg = document.createElement('img');\n  //./src/assets/images/img/up.png\"\n  //img/up,.png\n  upImg.setAttribute('src', '../../../static/img/up.png');\n\n  up.appendChild(upImg);\n//:down\n  var down = document.createElement('div');\n  down.setAttribute('id', 'down');\n  var downImg = document.createElement('img');\n  downImg.setAttribute('src', '../../../static/img/down.png');\n  down.appendChild(downImg);\n\n//:\n  /*var floor = document.createElement('div');\n  floor.setAttribute('id', 'floor');\n  var floorUl = document.createElement('ul');\n  floorUl.setAttribute('id', 'floorUl');*/\n  var floorUl;\n\n\n//-----------------------------\n\n\n//:视频摄像头要素类:\n  var Camera = function (build, floorId, date) {\n    //\n\n\n    this.build_id = build;\n    this.floor_id = floorId;\n    this.cameraUrl = \"http:192.168.0.109\";\n    this.param = date.param;\n    this.type = 'camera';\n    this.coordinates = date.coordinates;\n    this.setCameraStyle = function () {\n      var style = new ol.style.Style({\n        image: new ol.style.Icon({\n          src: \"../../../static/img/22/main/noconfig/21@3x.png\",\n          scale: 0.55\n        })\n      });\n      //return style;\n      this.setStyle(style);\n    };\n\n  };//\n//:车位要素类:\n//:carMapdate (车位状态数据)\n  //:carCountDate (车位数量数据)\n  var BasicCar = function (build, floorId, carDate) {\n    this.build_id = build;\n    this.floor_id = floorId;\n    this.type = 'car';\n    //console.log(carMapDate);\n    this.carArea = carDate.carArea;\n    this.carFloor = carDate.carFloor;\n    this.carFloorID = carDate.carFloorID;\n    this.carNum = carDate.carNum;\n    this.carUID = carDate.carUID;\n    this.carposPoint = carDate.carposPoint;\n    this.coordinates = carDate.coordinates;\n    //\n    this.car_state=\"\";\n    this.car_number=\"\";\n    this.car_enterTime=\"\";\n    this.car_picUrl=\"\";\n    this.car_videoUrl=\"\";\n  /*  carFeature.prototype.car_state=carMapDate.carpos_Info[e].car_state;\n    carFeature.prototype.car_number=carMapDate.carpos_Info[e].car_number;\n    carFeature.prototype.car_enterTime=carMapDate.carpos_Info[e].car_enterTime;\n    carFeature.prototype.car_picUrl=carMapDate.carpos_Info[e].car_picUrl;\n    carFeature.prototype.car_videoUrl=carMapDate.carpos_Info[e].car_videoUrl;*/\n    //\n    this.setCarColor = function (color) {\n      var style = new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        stroke: new ol.style.Stroke({\n          width: 1,\n          color: 'white'\n        }),\n        text: new ol.style.Text({\n          font: '10px sans-serif',\n          //add carText;\n          text: carDate.carNum,\n          textAlign: 'center',\n          fill: new ol.style.Fill({\n            color: 'black'\n          })\n        })\n      });\n      //return style;\n      this.setStyle(style);\n    };\n    //\n\n    };\n//:carCountDate (车位数量数据)\n  var Car = function (build, floorId, carDate, carMapDate,carUseDate,carCountDate) {\n    this.build_id = build;\n    this.floor_id = floorId;\n    this.type = 'car';\n    //console.log(carMapDate);\n    //if(carMapDate!=\"\"&&carMapDate!=undefined&&carMapDate!=null){\n      this.carArea = carDate.carArea;\n      this.carFloor = carDate.carFloor;\n      this.carFloorID = carDate.carFloorID;\n      this.carNum = carDate.carNum;\n      this.carUID = carDate.carUID;\n      this.carposPoint = carDate.carposPoint;\n      this.coordinates = carDate.coordinates;\n      this.car_state = carMapDate.car_state;\n      this.car_enterTime = carMapDate.car_enterTime;\n      this.car_picUrl = carMapDate.car_picUrl;\n      this.car_videoUrl = carMapDate.car_videoUrl;\n    //}else {\n      this.carNum=carUseDate.carpos_name;\n      this.carFloorID=carUseDate.carpos_floorID;\n      this.carUID=carUseDate.carpos_gid;\n      this.carRatio=carUseDate.carpos_ratio;\n    //};\n\n    this.setCarColor = function (color) {\n      var style = new ol.style.Style({\n        fill: new ol.style.Fill({\n          color: color\n        }),\n        stroke: new ol.style.Stroke({\n          width: 1,\n          color: 'white'\n        })\n\n      });\n      //return style;\n      this.setStyle(style);\n    };\n\n  };//\n//:车位号要素类:\n  var CarPort = function () {\n    this.setPortColor = function (carDate,carNum, align, color) {\n      this.type = 'carPoint';\n      //console.log(carMapDate);\n      this.carArea = carDate.carArea;\n      this.carFloor = carDate.carFloor;\n      this.carFloorID = carDate.carFloorID;\n      this.carNum = carDate.carNum;\n      this.carUID = carDate.carUID;\n      this.carposPoint = carDate.carposPoint;\n      this.coordinates = carDate.coordinates;\n\n      var stylePoint = new ol.style.Style({\n        text: new ol.style.Text({\n          font: '10px sans-serif',\n          //add carText;\n          text: carNum,\n          textAlign: align,\n          fill: new ol.style.Fill({\n            color: color\n          })\n        })\n      })\n\n      //return style;\n      //console.log(carNum+' '+align+' '+color);\n      this.setStyle(stylePoint);\n\n    };\n  };//\n//:\n//:车位号要素类:\n  var CarEventPort = function (carDate) {\n    this.type = 'carEvent';\n    //console.log(carMapDate);\n    this.carArea = carDate.carArea;\n    this.carFloor = carDate.carFloor;\n    this.carFloorID = carDate.carFloorID;\n    this.carNum = carDate.carNum;\n    this.carUID = carDate.carUID;\n    this.carposPoint = carDate.carposPoint;\n    this.coordinates = carDate.coordinates;\n    this.car_state=\"\";\n    this.car_number=\"\";\n    this.car_enterTime=\"\";\n    this.car_picUrl=\"\";\n    this.car_videoUrl=\"\";\n\n    this.setPortColor = function (carNum, align, color) {\n\n\n      var stylePoint = new ol.style.Style({\n        text: new ol.style.Text({\n          font: '10px sans-serif',\n          //add carText;\n          text: carNum,\n          textAlign: align,\n          fill: new ol.style.Fill({\n            color: color\n          })\n        })\n      })\n\n      //return style;\n      //console.log(carNum+' '+align+' '+color);\n      this.setStyle(stylePoint);\n\n    };\n  };//\n//:兴趣点层要素类\n  var InterLayer = function (interDate) {\n    this.inpointFloorID = interDate.inpointFloorID;\n    this.inpointID = interDate.inpointID;\n    this.inpointType = interDate.inpointType;\n    this.inpointName = interDate.inpointName;\n    this.inpointfloor = interDate.inpointfloor;\n    this.coordinates = interDate.coordinates;\n    this.setInterImg = function (interType) {\n      var interStyle = new ol.style.Style({\n        image: new ol.style.Icon({\n          src: '../../../static/img/info/' + interType + '@3x.png',\n          //imgSize:[35,35],\n          scale: 0.25\n        })\n      });\n      this.setStyle(interStyle);\n    };\n  };//\n\n//:\n\n  var getBuildInfo = function (url, cityId , buildId) {\n    //获取项目相关数据\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      data: {\n        'cityID':'',\n        'buildingID': buildId\n      },\n      url: '' + url + '/mapserve/floor',\n      // url:''+dataurl+'/SttingParam/LightParam?build_id='+buildligId+\"&floor=\"+newFloorId,\n      success: function (result) {\n\n        var buildResult=result;\n        //console.log(buildResult);\n        if (buildResult.result == 1) {\n          OlWidth=buildResult.olmapWidth;\n          OlHeight=buildResult.olmapHeight;\n        } else {\n          console.log('返回数据失败!');\n        };\n        //\n      },\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          console.log('请求超时!');\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          console.log('服务器出错!');\n        }\n        ;\n      }\n\n    });//$.ajax({\n\n  };//GetBuildInfo\n//\n  //console.log('getBuildInfo');\n  getBuildInfo(dataurl,'F00512','B0009' + '');\n\n//兼容3.0(lightConfig)\n  var versionThree = function (buildId, floorId, lightParamData) {\n\n    for (var lightIndex = 0; lightIndex < lightParamData.param_list.length; lightIndex++) {\n\n      //--------------------------------------------------\n      var flag = lightParamData.param_list[lightIndex].flag;\n      var dev_type = lightParamData.param_list[lightIndex].param.dev_type;\n      //-------------------------------------------------\n      if (dev_type == 7 || dev_type == 2) {\n        var imgSrc = dev_type + flag;\n        //----------------获取设备坐标------------------------------\n        //var x=lightParamData.param_list[lightIndex].coordinates[0];\n        //var y=lightParamData.param_list[lightIndex].coordinates[1];\n        //\n        Camera.prototype = new ol.Feature({});\n\n        // console.log(lightParamData.param_list[lightIndex]);\n\n        var cameraDevice = new Camera(buildId, floorId, lightParamData.param_list[lightIndex]);\n        // console.log(cameraDevice);\n        cameraDevice.setGeometry(new ol.geom.Point(cameraDevice.coordinates));\n        cameraDevice.setCameraStyle();\n        //---------------------添加主设备图标----------------------------------------\n        sourceLight.addFeature(cameraDevice);\n        deviceLayer.setSource(sourceLight);\n      }\n      ;//if()\n\n      //---------------------------------------------------------\n      //------------------------\n      // console.log(Findex);\n      //----------------------------------------------------------\n    }\n    ;\n  };//versionThree\n//:\n  var beefindDevice = function (dataurl, buildId, floorId) {\n    sourceLight = new ol.source.Vector();\n    //每层的设备数据\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      data: {\n        'build_id': buildId,\n        'floor': floorId\n      },\n      url: '' + dataurl + '/SttingParam/LightParam?',\n      // url:''+dataurl+'/SttingParam/LightParam?build_id='+buildligId+\"&floor=\"+newFloorId,\n      success: function (result) {\n        var lightParamData = result;\n        //console.log(lightParamData);\n        //alert(system_v);\n\n        if (lightParamData.result == 1) {\n          // alert(3333);\n          versionThree(buildId, floorId, lightParamData);\n        } else {\n          console.log('返回数据失败!');\n        }\n        ;\n        // console.log(system_v);\n        //==================================版本兼容============================================================\n\n        //==============================================================================================\n      },\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          console.log('请求超时!');\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          console.log('服务器出错!');\n        };\n      }\n\n    });//$.ajax({\n\n  };//beefindDevice\n//:\n//blist接口\n  var buildParam = function (url, cityId, buildId, floorId, mapUrl,mapType) {\n    build = [];\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      url: '' + url + '/mapserve/bllist?',\n      data: {\n        cityID: cityId\n      },\n      timeout: 3500,\n      success: function (result) {\n        //console.log(JSON.stringify(result));\n        for (var y = 0; y < result.response.length; y++) {\n          //console.log(y);\n          build[y] = new Object();\n          build[y].buildingType = result.response[y].builingType;\n          build[y].buildingId = result.response[y].buildingID;\n          build[y].buildingName = result.response[y].buildingName;\n          build[y].position = result.response[y].position;\n          build[y].locateOffest = result.response[y].locateOffest;\n          build[y].defineangel = result.response[y].defineangel;\n          build[y].olmapCenter = result.response[y].olmapCenter;\n\n          build[y].olmapHeight = result.response[y].olmapHeight;\n          build[y].olmapWidth = result.response[y].olmapWidth;\n          //build[y].buildingType=result.response[y].buildingType;\n          build[y].system_verson = result.response[y].system_verson;\n          build[y].index = y;\n\n\n          //-----------------------------------------------------\n          if (build[y].buildingId == buildId) {\n            //console.log(y);\n            var olZoom;\n            var olMapCenter;\n            if (build[y].olmapHeight == 91548) {\n              olZoom = (91548 / build[y].olmapHeight) * 9.55;\n            } else {\n              olZoom = (91548 / build[y].olmapHeight) * 9.55 * 0.23;\n            };\n            // if(listCity[a].Build[b].olMapHeight==91548)\n            //olMapCenter=build[y].olmapCenter;\n            olMapCenter = [parseFloat(build[y].olmapWidth / 2), -parseFloat(build[y].olmapHeight / 2)];\n            //alert(olMapCenter);\n            //console.log(olMapCenter);\n            map.getView().setCenter(olMapCenter);\n          }\n          ;//\n          // createList();\n        }\n        ;//for\n        //console.log(buildId);\n        //------------------------------------------------------------\n        mapserveFloor(url, cityId, buildId, floorId, mapUrl,mapType);\n\n      },\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          console.log('请求超时!');\n        } else {\n          console.log('服务器出错!');\n        }\n        ;\n      }\n    });//$.ajaxbuild\n    //console.log(build);\n  };//\n//\n//:樓層控件點擊\n  var j = 0;\n  var downFloor = function (callback) {\n    //:\n    var floorHeight = $(\"#floorUl\").height() - 35;//获取滚动框自己的高度\n    //alert($(\"#floor\").offset().top+2);\n    var floorOutTop = $(\"#floor\").offset().top + 2 - 35;//floor距离顶部的距离\n    var scrollTop = $(\"#floorUl\").offset().top;//距离滚动框的距离\n    var top = $('#floor').offset().top;\n    var marTop = scrollTop - top;\n\n    var floorLiTop = $('#floorUl li').offset().top - top - 2;\n    //\n    if (-marTop >= floorHeight) {\n      $(\"#floorUl\").css('top', -floorHeight + 'px');\n    } else {\n      j++;\n      //\n      $(\"#floorUl\").css('top', '-' + 35 * j + 'px');\n    }\n    ;\n    //\n    //----------------------------------------\n    for (var v = 0; v < floor.length; v++) {\n\n      var floorLiTop = $('#' + floor[v].floorId).offset().top - floorOutTop;\n      if (floorLiTop > 0 && floorLiTop <= 35) {\n\n        $('#' + floor[v].floorId).css({'color': 'red', 'font-size': '24px'});\n        //alert(floor[v].floorUrl);\n        //---------------------------\n        loadMap(mapUrl, floor[v].floorUrl);\n        OlFloorId = floor[v].floorId;\n        OlFloorNum = floor[v].floorNum;\n\n        floorName = floor[v].floorName;\n        BeefindMap.prototype.floor = floorName;\n        BeefindMap.prototype.floorId = OlFloorId;\n        //\n        beefindCar(url, OlBuildId, floor[v].floorId,olMapType);\n        beefindDevice(dataurl, OlBuildId, floor[v].floorId);\n      } else {\n\n        $('#' + floor[v].floorId).css({'color': 'black', 'font-size': '18px'});\n      }\n      ;//\n\n    }\n    ;\n    //console.log(floorName);\n    return callback(floorName,OlFloorId);\n    //:\n  };//floorUp;\n//:\n  var upFloor = function (callback) {\n    var floorHeight = $(\"#floorUl\").height() - 35;//获取滚动框自己的高度\n    var scrollTop = $(\"#floorUl\").offset().top;//距离滚动框的距离\n    var floorOutTop = $(\"#floor\").offset().top + 2 - 35;//floor距离顶部的距离\n    var top = $('#floor').offset().top;\n    var marTop = scrollTop - top;\n    // alert(marTop);\n    var floorLiTop = $('#floorUl li').offset().top - top - 2;\n    if (-marTop <= 0) {\n      $(\"#floorUl\").css('top', 0 + 'px');\n      j = 0;\n    } else {\n      j--;\n      // if(j<=0) j=0;\n      // alert(-marTop+'j'+j+'floorHeight'+floorHeight);\n      $(\"#floorUl\").css('top', '-' + 35 * j + 'px');\n    }\n    ;\n    // alert('floorUp'+j);\n    //----------------------------------------\n    for (var v = 0; v < floor.length; v++) {\n\n      var floorLiTop = $('#' + floor[v].floorId).offset().top - floorOutTop;\n      if (floorLiTop > 0 && floorLiTop <= 35) {\n\n        $('#' + floor[v].floorId).css({'color': 'red', 'font-size': '24px'});\n        //alert(floor[v].floorId);\n        loadMap(mapUrl, floor[v].floorUrl);\n\n        OlFloorId = floor[v].floorId;\n        OlFloorNum = floor[v].floorNum;\n\n        floorName = floor[v].floorName;\n\n        BeefindMap.prototype.floor = floorName;\n        BeefindMap.prototype.floorId = OlFloorId;\n\n        beefindCar(url, OlBuildId, floor[v].floorId,olMapType);\n        beefindDevice(dataurl, OlBuildId, floor[v].floorId);\n      } else {\n\n        $('#' + floor[v].floorId).css({'color': 'black', 'font-size': '18px'});\n      }\n      ;//\n\n    };\n    //console.log(floorName);\n    return callback(floorName,OlFloorId);\n    //:\n  };//upFloor\n  //添加车位层函数\n  /*\n  * screenPoint参数（y引导屏幕坐标）;\n  * screenType（引导屏幕的类型）\n  * */\n  var addScreen = function (val) {\n      screenLayer.getSource().clear();\n      if(val!=null&&val.screen_x!=undefined&&val.screen_y!=undefined){\n        let screenFeature= new ol.Feature({});\n            screenFeature.floor_id=val.floor_id;\n          screenFeature.setGeometry(new ol.geom.Point([val.screen_x,val.screen_y]));\n        screenFeature.setStyle(screenStyle);\n        screenLayer.getSource().addFeature(screenFeature);\n        screenLayer.setVisible(true);\n        //引导屏幕是否在同一层;显示?在:隐藏\n        //val.floor_id ==OlFloorId ? screenLayer.setVisible(true) : screenLayer.setVisible(false);\n      };\n\n  };//\n  /*\n  * 点击VIP车位添加图标\n  * addVipIcon\n  * */\n  var addVipIcon = function (val) {\n    vipIconLayer.getSource().clear();\n    if(val!=null&&val.carposPoint!=undefined){\n      let vipIconFeature= new ol.Feature({});\n      vipIconFeature.floor_id=val.floor_id;\n      vipIconFeature.setGeometry(new ol.geom.Point([val.carposPoint[0],val.carposPoint[1]]));\n      vipIconFeature.setStyle(vipCarStyle);\n      vipIconLayer.getSource().addFeature(vipIconFeature);\n      vipIconLayer.setVisible(true);\n      //引导屏幕是否在同一层;显示?在:隐藏\n      //val.floor_id ==OlFloorId ? screenLayer.setVisible(true) : screenLayer.setVisible(false);\n    };\n\n  };//\n  /*\n  * screenCar(引导屏幕控制的车位);\n  *\n  * */\n  var findCarFeature = function (feature) {//传递一个要素，找到对应的车位要素;\n\n    let carFuter = carLayer.getSource().getFeatures();\n\n      function findFeature(carFuter){\n          return carFuter.carUID==feature.carUID;\n      };//\n\n      var carFeature=carFuter.filter(findFeature);\n          carFeature=carFeature[0];\n\n      return  carFeature;\n  };//\n  //\n  var resetCarColor=function (color) {\n    let carFuter = carLayer.getSource().getFeatures();\n        carFuter.forEach(function (val,index,arr) {\n            val.setCarColor(color);\n        });\n    //carLayer.getSource().getFeatures();\n  };//\n  var resetFeatureCarColor=function (color,featrue) {\n    let carFuter = carLayer.getSource().getFeatures();\n    let featrueNow = featrue;\n    carFuter.forEach(function (val,index,arr) {\n      if(featrueNow.carUID==val.carUID) {\n        val.setCarColor(color);\n      }\n\n    });\n    //carLayer.getSource().getFeatures();\n  };//\n  var setVipCarColor=function (date,color) { // vIP 车位管理专用\n\n    let carFuter = carLayer.getSource().getFeatures();\n    carFuter.forEach(function (val,index,arr) {\n      val.VipCar=false;\n      val.car_numbers=[];\n    });\n    date.forEach(function (valT,indexT,arrT) {\n      carFuter.forEach(function (val,index,arr) {\n        if(val.carUID==valT.carpos_gid){\n          val.VipCar=true;\n          val.car_numbers=valT.car_numbers;\n          val.setCarColor(color);\n        };\n      });\n\n    })\n\n    //carLayer.getSource().getFeatures();\n  };//\n  //\n  var screenCarColor = function (screenCar,color) {\n    //对于所有车位要素设置车位色;\n    let carFuter = carLayer.getSource().getFeatures();\n    let carEventFeature = carLayerEventPoint.getSource().getFeatures();\n\n    //console.log(carEventFeature);\n\n\n    carEventFeature.forEach(function (val,index,arr) {\n      val.choseCar=false;\n    });//\n    //\n    let carGid;\n        //console.log(carFuter);\n        //数组的filter过滤函数;\n        function checkScreenCar(carFuter){\n           return carFuter.carUID==carGid;\n        };//\n        function checkScreenEventCar(carEventFeature){\n           return carEventFeature.carUID==carGid;\n        };//\n        //\n        let message = screenCar.message;\n        let indexT = screenCar.index;\n        let carColor = screenCar.carColor;\n        //\n        carFuter.forEach(function (val) {\n         val.setCarColor('#969696');\n         val.choseCar=false;\n         val.index=indexT;\n         val.message=message;\n         val.carColor=carColor;\n        });\n        screenCar.carpos_list.forEach(function (item,index,arr) {\n          carGid=item.carpos_gid;\n\n          var screenCar=carFuter.filter(checkScreenCar);//\n              //console.log(screenCar);\n              screenCar[0].index=indexT;\n              screenCar[0].message=message;\n              screenCar[0].carColor=carColor;\n              screenCar[0].choseCar=true;//当前是否被选\n              screenCar[0].setCarColor(color);\n          var screenEventCar = carEventFeature.filter(checkScreenEventCar);\n              //console.log(screenEventCar);\n              if(screenEventCar.length>=1){\n                screenEventCar[0].index=indexT;\n                screenEventCar[0].message=message;\n                screenEventCar[0].carColor=carColor;\n                screenEventCar[0].choseCar=true;//当前是否被选\n              };\n\n        },this.val);\n\n\n\n\n  };//screenCarColor\n\n  //刷新车位利用率\n  var refreshUseCar=function () {\n    //var url = 'http://139.196.5.153:8080';\n    //console.log(OlFloorId);\n    // console.log('url='+url+';OlBuild'+olBuildId+';OlFloorId='+OlFloorId +';olMapType='+olMapType);\n     beefindCar(url, OlBuildId, OlFloorId ,olMapType);\n  };//\n\n\n\n\n//:\n  down.addEventListener('click', function () {\n    downFloor(floorSuccess);\n  });//floorUp\n  up.addEventListener('click', function () {\n    upFloor(floorSuccess);\n  });//floorUp\n//:\n\n  var floorSuccess = function () {\n    console.log(777);\n  };//\n//style:车位样式;\n\n\n  var style_0 = new ol.style.Style({\n    fill: new ol.style.Fill({\n      color: '#83CC1B'\n    }),\n    stroke: new ol.style.Stroke({\n      width: 1,\n      color: 'white'\n    })\n  });\n//:車位樣式\n  var carText = new ol.style.Style({\n    text: new ol.style.Text({\n      font: '14px sans-serif',\n      //add carText;\n      text: 1,\n      textAlign: 'center',\n      fill: new ol.style.Fill({\n        color: 'black'\n      })\n    })\n  });\n//:drawCar()绘制车位\n  var screenStyle = new ol.style.Style({\n    image: new ol.style.Icon({\n      src: \"../../../static/img/screen.png\",\n      scale: 0.55\n    })\n  });\n  // 点击VIP车位后添加的图标\n  var vipCarStyle = new ol.style.Style({\n    image: new ol.style.Icon({\n      src: \"../../../static/img/floor/u.png\",\n      scale: 0.55\n    })\n  });\n//:\n//:\n  var point = function (x, y) {\n    return (new ol.geom.Point([x, y]));\n  };\n//:\n  var interPointVector = function (interData) {\n    //判断数据源(有:清除;无:;)\n    if (interPointLayer.getSource() != null && interPointLayer.getSource() != \"\" && interPointLayer.getSource() != undefined) {\n      interPointLayer.getSource().clear();\n    }\n    ;\n    for (var d = 0; d < interData.length; d++) {\n      InterLayer.prototype = new ol.Feature({});\n      var pointInter = new InterLayer(interData[d]);\n      //console.log(pointInter);\n      pointInter.setGeometry(new ol.geom.Point(pointInter.coordinates));\n      pointInter.setInterImg(pointInter.inpointType);\n\n      sourceInterPoint.addFeature(pointInter);\n    }\n    ;//for(var d=0;d<interPoint.length;d++)\n    //------------------------------------------------\n    interPointLayer.setSource(sourceInterPoint);\n\n  };//interPointVector\n//:绘制车位函数\n  /*\n    carDate:车位信息\n    carMapDate:地图状态数据\n    carCountDate:车位数量数据\n    type:绘制的地图类型\n  */\n  //绘制车位状态图\n  var carStateColor=function (buildId,floorId,carDate,carMapDate,q) {\n    for (var r = 0; r < carMapDate.carpos_Info.length; r++) {\n\n      //\n      if (carMapDate.carpos_Info[r].carpos_gid == carDate[q].carUID) {\n        //console.log(r);\n\n        Car.prototype = new ol.Feature({});\n        CarPort.prototype = new ol.Feature({});\n        //CarEventPort.prototype = new ol.Feature({});\n        //var eventFeature=new ol.Feature({});\n        var car = new Car(buildId, floorId, carDate[q], carMapDate.carpos_Info[r],'');\n        //--\n        car.setGeometry(new ol.geom.Polygon([car.coordinates]));\n        //更具不同状态绘制车位颜色\n        if (car.car_state == 0) {\n          //-------------------------------------\n          car.setCarColor(\"#83CC1B\", car.carNum, 'center', 'black');\n        } else if (car.car_state == 1) {\n          car.setCarColor(\"#FF0000\", car.carNum, 'center', 'black');\n        } else if (car.car_state == 2) {\n          car.setCarColor(\"#FFCF51\", car.carNum, 'center', 'black');\n        } else if (car.car_state == 3) {\n          car.setCarColor(\"#130A10\", car.carNum, 'center', 'black');\n        } else if (car.car_state == 4) {\n          car.setCarColor(\"#7698FF\", car.carNum, 'center', 'black');\n        } else if (car.car_state == 5) {\n          car.setCarColor(\"#FFB766\", car.carNum, 'center', 'black');\n        } else {\n          car.setCarColor(\"#FF0000\", car.carNum, 'center', 'black');\n        }\n        ;\n        //\n        var portCar = new CarPort();\n        portCar.setGeometry(new ol.geom.Point(car.carposPoint));\n        portCar.setPortColor(car.carNum, 'center', 'black');\n        //:\n        /*if (car.carNum % 2 == 0) {\n          // console.log(car.carNum);\n          var portEventCar = new CarEventPort();\n          portEventCar.setGeometry(new ol.geom.Point(car.carposPoint));\n          portEventCar.setPortColor(car.carNum, 'center', 'black');\n          sourceEventCarPoint.addFeature(portEventCar);\n        };//*/\n        //:添加要素\n        sourceCar.addFeature(car);\n        sourceCarPoint.addFeature(portCar);\n      };//if()\n      //\n\n   }//for\n\n  };//\n  //---------\n  //绘制车位利用率图\n  var carUseColor=function (buildId,floorId,carDate,carUseDate,q) {\n    //console.log(carUseDate);\n\n    //console.log(carDate[q].carUID);\n    for (var r = 0; r <carUseDate.length; r++) {\n       //console.log(carDate[q].carUID);\n       //console.log(carUseDate[r].carpos_gid);\n       //console.log(carUseDate[r].carpos_gid == carDate[q].carUID);\n      //\n     if (carUseDate[r].carpos_gid == carDate[q].carUID) {\n\n        //console.log(r);\n\n        Car.prototype = new ol.Feature({});\n       CarPort.prototype = new ol.Feature({});\n       CarEventPort.prototype = new ol.Feature({});\n        //var eventFeature=new ol.Feature({});\n        //\n        var car = new Car(buildId, floorId, carDate[q],'',carUseDate[r]);\n        //--\n            car.setGeometry(new ol.geom.Polygon([car.coordinates]));\n        //更具不同状态绘制车位颜色\n        if (car.carRatio>=0&&car.carRatio<=19) {\n          //-------------------------------------\n          car.setCarColor(\"#83CC1B\", car.carNum, 'center', 'black');\n        } else if (car.carRatio>=20&&car.carRatio<=39) {\n          car.setCarColor(\"#FF0000\", car.carNum, 'center', 'black');\n        } else if (car.carRatio>=40&&car.carRatio<=59) {\n          car.setCarColor(\"#FFCF51\", car.carNum, 'center', 'black');\n        } else if (car.carRatio>=60&&car.carRatio<=80) {\n          car.setCarColor(\"#130A10\", car.carNum, 'center', 'black');\n        } else {\n          car.setCarColor(\"#FF0000\", car.carNum, 'center', 'black');\n        };\n        //\n        var portCar = new CarPort();\n        portCar.setGeometry(new ol.geom.Point(car.carposPoint));\n        portCar.setPortColor(car.carNum, 'center', 'black');\n        //:\n       var portEventCar;\n       //carNum.replace(/[^0-9]/ig,'')\n        if (car.carNum.replace(/[^0-9]/ig,'') % 2 == 0) {\n          // console.log(car.carNum);\n          portEventCar = new CarEventPort();\n          portEventCar.setGeometry(new ol.geom.Point(car.carposPoint));\n          portEventCar.setPortColor(car.carNum, 'center', 'black');\n          sourceEventCarPoint.addFeature(portEventCar);\n        };//\n        //:添加要素\n        sourceCar.addFeature(car);\n        sourceCarPoint.addFeature(portCar);\n      };//if()\n\n    };//for()\n    //\n  };//\n\n\n  //\n  var drawCar = function (buildId, floorId, carDate, carMapDate, carCountDate,carUseDate,type) {\n\n\n    //创建车位对象，并且添加相关属性\n    for (var q = 0; q < carDate.length; q++) {\n      //每个车为都是一个对象\n        //console.log(q);\n        //console.log(type);\n        if(type==\"carState\"){\n           carStateColor(buildId,floorId,carDate,carMapDate,q);//车位状态图\n         }else{\n           carUseColor(buildId,floorId,carDate,carUseDate,q);\n         };\n        //----------------\n\n      //\n      //------------------------------------------------------\n    };//for();\n    carLayer.setSource(sourceCar);\n    carLayerPoint.setSource(sourceCarPoint);\n    //carLayerEventPoint.setSource(sourceEventCarPoint);\n  };//drawCar\n  //:\n  /*\n   carDate:车位基本参数\n   carMapDate:车位状态参数\n   */\n  var addCarState=function (carDate,carMapDate,carFeature,eventCarFeature) {\n\n    //console.log(carMapDate);\n\n    //console.log(carMapDate.carpos_Info.length);\n    //console.log(carFeature);\n    //console.log(eventCarFeature);\n    for(var e=0;e<carMapDate.carpos_Info.length;e++){\n      //console.log(carMapDate.carpos_Info);\n\n      if(carMapDate.carpos_Info[e].carpos_gid==carFeature.carUID){\n        //console.log(e);\n        //console.log(carMapDate.carpos_Info[e].car_state);\n        //给车位对象添加状态属性\n\n        carFeature.car_state=carMapDate.carpos_Info[e].car_state;\n        carFeature.car_number=carMapDate.carpos_Info[e].car_number;\n        carFeature.car_enterTime=carMapDate.carpos_Info[e].car_enterTime;\n        carFeature.car_picUrl=carMapDate.carpos_Info[e].car_picUrl;\n        carFeature.car_videoUrl=carMapDate.carpos_Info[e].car_videoUrl;\n        //\n        if(eventCarFeature){\n          eventCarFeature.car_state=carMapDate.carpos_Info[e].car_state;\n          eventCarFeature.car_number=carMapDate.carpos_Info[e].car_number;\n          eventCarFeature.car_enterTime=carMapDate.carpos_Info[e].car_enterTime;\n          eventCarFeature.car_picUrl=carMapDate.carpos_Info[e].car_picUrl;\n          eventCarFeature.car_videoUrl=carMapDate.carpos_Info[e].car_videoUrl;\n        };\n\n\n        //------------------\n        //console.log(carFeature);\n        //console.log(carFeature.car_state);\n\n        if (carFeature.car_state == '0') {\n          //-------------------------------------\n          carFeature.setCarColor(\"#85e249\", carFeature.carNum, 'center', 'black');\n        } else if (carFeature.car_state == '1') {\n          carFeature.setCarColor(\"#fd435a\", carFeature.carNum, 'center', 'black');\n        } else if (carFeature.car_state == '2') {\n          carFeature.setCarColor(\"#ffbb44\", carFeature.carNum, 'center', 'black');\n        } else if (carFeature.car_state == '3') {\n          carFeature.setCarColor(\"#000000\", carFeature.carNum, 'center', 'black');\n        } else if (carFeature.car_state == '4') {\n\n          carFeature.setCarColor(\"#4882ff\", carFeature.carNum, 'center', 'black');\n\n        } else if (carFeature.car_state == '5') {\n          carFeature.setCarColor(\"#d1980d\", carFeature.carNum, 'center', 'black');\n        } else {\n          carFeature.setCarColor(\"#cccccc\", carFeature.carNum, 'center', 'black');\n        };\n\n        break;\n\n      };\n    };//\n\n    //console.log(carRule);\n    //BeefindMap.prototype.carRule=carRule;\n\n  };//\n  //---------\n  /*\n   carDate:车位基本参数\n   carMapDate:车位状态参数\n   */\n  //carLayer.getSource.getFeatures;//\n  var changeCarState =function(carDate,carMapDate,carFeature,eventCarFeature){\n    for(let t=0;t<eventCarFeature.length;t++){\n      for(let f=0;f<carMapDate.carpos_Info.length;f++){\n        if(carMapDate.carpos_Info[f].carpos_gid==eventCarFeature[t].carUID){\n          eventCarFeature[t].car_state=carMapDate.carpos_Info[f].car_state;\n          eventCarFeature[t].car_number=carMapDate.carpos_Info[f].car_number;\n          eventCarFeature[t].car_enterTime=carMapDate.carpos_Info[f].car_enterTime;\n          eventCarFeature[t].car_picUrl=carMapDate.carpos_Info[f].car_picUrl;\n          eventCarFeature[t].car_videoUrl=carMapDate.carpos_Info[f].car_videoUrl;\n        };\n      }\n\n    };//\n    //\n    for(let r=0;r<carFeature.length;r++){\n      //\n\n      //\n      for(let f=0;f<carMapDate.carpos_Info.length;f++){\n        if(carMapDate.carpos_Info[f].carpos_gid==carFeature[r].carUID){\n          //给车位对象添加状态属性\n          carFeature[r].car_state=carMapDate.carpos_Info[f].car_state;\n          carFeature[r].car_number=carMapDate.carpos_Info[f].car_number;\n          carFeature[r].car_enterTime=carMapDate.carpos_Info[f].car_enterTime;\n          carFeature[r].car_picUrl=carMapDate.carpos_Info[f].car_picUrl;\n          carFeature[r].car_videoUrl=carMapDate.carpos_Info[f].car_videoUrl;\n\n\n\n\n          //------------------\n          //console.log(carFeature);\n          //console.log(carFeature.car_state);\n\n          if (carFeature[r].car_state == '0') {\n            //-------------------------------------\n            carFeature[r].setCarColor(\"#85e249\", carFeature[r].carNum, 'center', 'black');\n          } else if (carFeature[r].car_state == '1') {\n            carFeature[r].setCarColor(\"#fd435a\", carFeature[r].carNum, 'center', 'black');\n          } else if (carFeature[r].car_state == '2') {\n            carFeature[r].setCarColor(\"#ffbb44\", carFeature[r].carNum, 'center', 'black');\n          } else if (carFeature[r].car_state == '3') {\n            carFeature[r].setCarColor(\"#000000\", carFeature[r].carNum, 'center', 'black');\n          } else if (carFeature[r].car_state == '4') {\n\n            carFeature[r].setCarColor(\"#4882ff\", carFeature[r].carNum, 'center', 'black');\n\n          } else if (carFeature[r].car_state == '5') {\n            carFeature[r].setCarColor(\"#d1980d\", carFeature[r].carNum, 'center', 'black');\n          } else {\n            carFeature[r].setCarColor(\"#cccccc\", carFeature[r].carNum, 'center', 'black');\n          };\n\n          break;\n\n        };\n      };//\n    };\n\n\n  };//\n\n  //------\n  var addCarUse=function (carDate,carUseDate,carFeature) {\n\n    for(var e=0;e<carUseDate.length;e++){\n      //\n      if(carUseDate[e].carpos_gid==carFeature.carUID){\n        //给车位对象添加状态属性\n        carFeature.carpos_ratio=carUseDate[e].carpos_ratio*100;\n\n        if (carFeature.carpos_ratio>=0&&carFeature.carpos_ratio<=20) {\n          //-------------------------------------\n          carFeature.setCarColor(\"#9ade31\", carFeature.carNum, 'center', 'black');\n        } else if (carFeature.carpos_ratio>=21&&carFeature.carpos_ratio<=40) {\n          carFeature.setCarColor(\"#fbdc44\", carFeature.carNum, 'center', 'black');\n        } else if (carFeature.carpos_ratio>=41&&carFeature.carpos_ratio<=60) {\n          carFeature.setCarColor(\"#f8aa2e\", carFeature.carNum, 'center', 'black');\n        } else if (carFeature.carpos_ratio>=61&&carFeature.carpos_ratio<=80) {\n          carFeature.setCarColor(\"#ff8350\", carFeature.carNum, 'center', 'black');\n        } else {\n          carFeature.setCarColor(\"#fd435a\", carFeature.carNum, 'center', 'black');\n        };\n      };\n    };//\n  };//\n  /**/\n  var basicDrawCar=function (buildId, floorId, carDate, carMapDate,carUseDate,type) {\n\n    for (var q = 0; q < carDate.length; q++) {\n      //每个车为都是一个对象\n      //console.log(q);\n\n      BasicCar.prototype = new ol.Feature({});\n      CarPort.prototype = new ol.Feature({});\n      CarEventPort.prototype = new ol.Feature({});\n      //---------------\n      var car = new BasicCar(buildId, floorId, carDate[q]);\n          car.setGeometry(new ol.geom.Polygon([car.coordinates]));\n\n      //--------------------------------------------------\n\n      var portEventCar;\n      //偶数车位\n      //car.carNum = car.carNum.replace(/[^0-9]/ig,'');\n      if (car.carNum.replace(/[^0-9]/ig,'') % 2 == 0) {\n        //console.log(carDate[q]);\n        portEventCar = new CarEventPort(carDate[q]);\n        portEventCar.setGeometry(new ol.geom.Point(car.carposPoint));\n        portEventCar.setPortColor(car.carNum, 'center', 'black');\n        sourceEventCarPoint.addFeature(portEventCar);\n      };//\n      //根据类型绘制不通的底图;\n      if(type=='carState'){\n        car.setCarColor(\"#cccccc\", car.carNum, 'center', 'black');\n\n        //addCarState(carDate,carMapDate,car,portEventCar);\n\n      }else if(type=='useState') {\n\n        car.setCarColor(\"#9ade31\", car.carNum, 'center', 'black');\n        addCarUse(carDate,carUseDate,car);\n      }else if(type=='screenControl'){\n        car.setCarColor(\"#969696\", car.carNum, 'center', 'black');\n      }else{\n        car.setCarColor(\"#9ade31\", car.carNum, 'center', 'black');\n      };//\n      //:\n\n      //:添加要素\n      sourceCar.addFeature(car);\n     // sourceCarPoint.addFeature(portCar);\n      //------------------------------------------------------\n    };//for();\n    carLayer.setSource(sourceCar);\n    //carLayerPoint.setSource(sourceCarPoint);\n    carLayerEventPoint.setSource(sourceEventCarPoint);\n  };//\n  /*\n  carDate:车位基本参数\n  carMapDate:车位状态参数\n  */\n\n//:------和获取设备视频的url----------------------------\n  var getVideoUrl = function (url, device_id, device_area, floorid) {\n    var videoUrlDate;\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      url: url + '/listmac',\n      //url:\"http://192.168.3.36:8080/mapserve/carposinpoint?\",\n      data: {\n        device_id: device_id,\n        device_area: device_area,\n        device_floorID: floorid\n      },\n      success: function (result) {\n        //console.log(result);\n\n          videoUrlDate = result;\n          //获取引导屏幕参数(函数)\n          //---------------------------\n\n\n      },\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          console.log('请求超时!');\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          console.log('服务器出错!');\n        }\n        ;\n      }\n    });//$.ajax\n\n    return videoUrlDate;\n  };//\n//--------------------------------\n//:------和获取已知设备的，有视频的日期----------------------------\n  var getCameraDate = function (url, buildId, device_area, device_id) {\n    var cameraDate;\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      timeout: 2000,\n      url: url + '/getVideoDate',\n      //url:\"http://192.168.3.36:8080/mapserve/carposinpoint?\",\n      data: {\n        build_id: buildId,\n        area_id: device_area,\n        dev_id: device_id\n      },\n      success: function (result) {\n        //console.log(result);\n        //if(result.result==0){\n        //alert('获取视频失败!');\n        //}else{\n\n        cameraDate = result;\n        //获取引导屏幕参数(函数)\n        //---------------------------\n        //};\n        //return cameraDate;\n\n      },\n      error: function (xhr, status, error) {\n        var result = {\n          result: 0\n        };\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          cameraDate = result;\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          cameraDate = result;\n          //alert('服务器出错!!!!!');\n        }\n        ;\n      }\n    });//$.ajax\n\n    return cameraDate;\n  };//\n//------------------------------------\n  var clearStateInter=function () {\n    //console.log('clearInterval');\n    clearInterval(carStateInter);\n  };//\n//:(车位数量)状态数据查询\n  var carState = function (url, user_id, buildId, floorId) {\n    var date;\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      url: url + '/GOSSystem/getCarposSumInfo',\n      //url:\"http://192.168.3.36:8080/mapserve/carposinpoint?\",\n      data: {\n        user_id: user_id,\n        floor_id: floorId,\n        build_id: buildId\n      },\n      timesout:3500,\n      success: function (result) {\n        //console.log(result);\n        if (result.result == 0) {\n          console.log('返回数据失败!');\n        } else {\n          date = result;\n\n          //获取引导屏幕参数(函数)\n          //---------------------------\n        };\n\n      },\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          console.log('请求超时!');\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          console.log('服务器出错!');\n        }\n        ;\n      }\n    });//$.ajax\n\n    return date;\n  };//\n//:获取车位状态(地图)图数据\n  var carMapState = function (url, user_id, buildId, floorId) {\n    var carMapDate;\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      url: url + '/GOSSystem/getCarposMapInfo',\n      //url:\"http://192.168.3.36:8080/mapserve/carposinpoint?\",\n      data: {\n        user_id: user_id,\n        floor_id: floorId,\n        build_id: buildId\n      },\n      success: function (result) {\n        //console.log(result);\n        if (result.result == 0) {\n          console.log('返回数据失败!');\n        } else {\n\n          carMapDate = result;\n          //获取引导屏幕参数(函数)\n          //---------------------------\n        };\n\n      },\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          console.log('请求超时!');\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          console.log('服务器出错!');\n        };\n      }\n    });//$.ajax\n\n    return carMapDate;\n  };//\n//:获取车位利用率数据\n  var carUseState = function (url, user_id, buildId, floorId, time) {\n    var postTime=time;\n\n    var carUseDate;\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      url: url + '/GOSSystem/getEachCarposRatio',\n      //url:\"http://192.168.3.36:8080/mapserve/carposinpoint?\",\n      data: {\n        user_id: user_id,\n        floor_id: floorId,\n        build_id: buildId,\n        start_time:postTime.start_time,\n        end_time:postTime.end_time\n      },\n      success: function (result) {\n          //console.log(result);\n          carUseDate = result;\n          //获取引导屏幕参数(函数)\n          //---------------------------\n\n      },\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          alert('请求超时!');\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          alert('服务器出错!');\n        }\n        ;\n      }\n    });//$.ajax\n\n    return carUseDate;\n  };//\n//:获取车位数据\n//\n  var beefindCar = function (dataurl, buildId, floorId, mapType) {\n    var carFeature,carEventFeature;\n    //var carStateInter;\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      url: dataurl + '/mapserve/carposinpoint?',\n      data: {\n        floorID: floorId,\n        buildingID: buildId\n      },\n      success: function (result) {\n\n        console.log(result);\n        if (result.result == 0) {\n          alert('返回数据失败!');\n        } else {\n          var messageone = result.response_carpos;\n          var interPoint = result.response_inpoint;\n          //-------------------\n          //地图车位的底图\n          if(mapType=='carState'){//车位状态图\n            //----------------------\n            //function carInter() {\n              carMapDate = carMapState(localUrl, 'beefind001', buildId, OlFloorId);//地图数量\n              carStateDate=carState(localUrl,'beefind001',buildId,OlFloorId);//车位数量数据\n\n\n              BeefindMap.prototype.carpos_sum=carStateDate.carpos_sum;\n              carUseDate=[];\n           // };//\n\n\n            //setTimeout(function () {\n\n              carStateInter=setInterval(function () {\n                //console.log(OlFloorId);\n                //console.log(mapType);\n                carMapDate = carMapState(localUrl, 'beefind001', buildId, OlFloorId);//车位状态数据\n                carStateDate=carState(localUrl,'beefind001',buildId,OlFloorId);//车位数量数据\n                console.log(carMapDate);\n                console.log(carStateDate);\n                //\n                BeefindMap.prototype.carpos_sum=carStateDate.carpos_sum;\n                carUseDate=[];\n                //\n                //console.log(carFeature);\n                //console.log(carEventFeature);\n                changeCarState(messageone,carMapDate,carFeature,carEventFeature);\n              },1000*60*2);//2分钟刷新一次\n\n            //},4000);\n\n\n\n          }else if(mapType=='useState'){//车位利用率\n            clearInterval(carStateInter);\n            //\n            //车位利用率\n            carUseDate=carUseState(localUrl,'beefind001',buildId,floorId,timeDate);//车位利用率数据\n            //console.log(carUseDate);\n            if(carUseDate.result==1){\n              carUseDate=carUseDate.eachCarpos_list;\n              //console.log(carUseDate);\n            };\n            carMapDate=[];\n            carStateDate=[];\n          }else if(mapType=='screenControl'){//引导屏幕\n            clearInterval(carStateInter);\n\n            //console.log('clearInterval');\n            carMapDate=[];\n            carStateDate=[];\n          }else{\n            clearInterval(carStateInter);\n            carMapDate=[];\n            carStateDate=[];\n          };\n          //-----------------------\n\n          if (messageone != \"\" && messageone != undefined && messageone != null) {\n            sourceCar = new ol.source.Vector();\n            sourceCarPoint = new ol.source.Vector();\n            sourceEventCarPoint = new ol.source.Vector();\n            //绘制基本地图并添加地图车位状态;\n\n            basicDrawCar(buildId,floorId,messageone,carMapDate,carUseDate,mapType);\n\n            if(mapType=='carState'){\n              carFeature=carLayer.getSource().getFeatures();\n              carEventFeature=carLayerEventPoint.getSource().getFeatures();\n              changeCarState(messageone,carMapDate,carFeature,carEventFeature);\n            };//\n\n            //drawCar(buildId, floorId, messageone, carMapDate, carStateDate,carUseDate,mapType);\n          };//\n          //获取引导屏幕参数(函数)\n          //------------------------\n          if (interPoint != \"\" && interPoint != undefined && interPoint != null) {\n            sourceInterPoint = new ol.source.Vector();\n            interPointVector(interPoint);\n          }\n          ;//\n          //---------------------------\n        }\n        ;\n\n      },\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          alert('请求超时!');\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          alert('服务器出错!');\n        }\n        ;\n      }\n    });//$.ajax\n  };//beefindCar\n\n//:\n  var crearteFloor = function (buildId, floorId, floorName, floorMapUrl, index) {\n    var floorLi = document.createElement('li');\n\n    floorLi.setAttribute('id', floorId);\n    floorLi.setAttribute('name', index);\n    console.log(floorName);\n    floorLi.innerText = floorName;\n    floorLi.innerHTML = floorName;\n    floorUl.appendChild(floorLi);\n\n    //alert(floorLi.offsetTop);\n    floorLi.style.width='35px';\n    floorLi.style.height='35px';\n    // floorLi.style.border='1px solid #00ff00';\n    floorLi.style.overflow='hidden';\n\n    if (floorLi.offsetTop >= 0 && floorLi.offsetTop < 35) {\n      floorLi.style.color = 'red';\n      floorLi.style.fontSize = '24px';\n\n    } else {\n      floorLi.style.color = 'black';\n      floorLi.style.fontSize = '18px';\n    }\n    ;//\n    // console.log(8888);\n  };//crearteFloor\n//:加载Map\n  var loadMap = function (mapUrl, floorMapUrl) {\n    //var configFloorUrl=floorMapUrl.substr(0,14)+'_SET';\n    var configFloorUrl = floorMapUrl.substr(0, 14) + '_MAP';\n    //console.log(configFloorUrl);\n    var source = new ol.source.TileWMS({\n      url: mapUrl,\n      //F0021B0002LX4\n      params: {'layers': configFloorUrl},\n      serverType: 'geoserver'\n    });//\n    layer.setSource(source);\n    //-------------------------------\n\n  };//loadMap\n//:加载楼层信息\n  var mapserveFloor = function (url, cityId, buildId, floorId, mapUrl, mapType) {\n    floor = [];\n    $.ajax({\n      cache: false,\n      type: 'POST',\n      async: false,\n      dataType: 'json',\n      url: '' + url + '/mapserve/floor?',\n      data: {\n        cityID: cityId,\n        buildingID: buildId\n      },\n      timeout: 3500,\n      success: function (result) {\n        if (result.result == 0) {\n          alert('请求数据失败!');\n        } else {\n          //-------------------------------\n          OlWidth=result.olmapWidth;\n          OlHeight=result.olmapHeight;\n          var olZoom;\n          var olMapCenter;\n          if (OlHeight == 91548) {\n            olZoom = (91548 / OlHeight) * 9.55;\n          } else {\n            olZoom = (91548 / OlHeight) * 9.55 * 0.23;\n          };\n          // if(listCity[a].Build[b].olMapHeight==91548)\n          olMapCenter = [parseFloat(OlWidth / 2), -parseFloat(OlHeight / 2)];\n          //console.log(olMapCenter);\n          map.getView().setCenter(olMapCenter);\n\n          map.getView().setZoom(olZoom);\n          //--------------------------------\n          if(floorId==\"\"||floorId==null||floorId==undefined){\n            //默认首层\n\n\n\n            OlFloorNum = result.response[0].floorNum;\n            OlFloorId = result.response[0].floorID;\n            floorId=OlFloorId;\n  console.log('OlBuildId='+OlBuildId+'OlFloorId='+OlFloorId+'OlFloorNum='+OlFloorNum);\n            beefindCar(url, buildId, OlFloorId, mapType);\n\n            //设备\n            beefindDevice(url, buildId, OlFloorId);\n\n          }else{\n\n            console.log('初始OlBuildId='+OlBuildId+'OlFloorId='+OlFloorId+'OlFloorNum='+OlFloorNum);\n            console.log('floorId==>'+floorId);\n            beefindCar(url, buildId, floorId, mapType);\n            //设备\n            beefindDevice(url, buildId, floorId);\n          };//\n          console.log(floorId)\n          //-----------------------------------------\n          for (var z = 0; z < result.response.length; z++) {\n            floor[z] = new Object();\n            floor[z].floorId = result.response[z].floorID;\n            floor[z].floorName = result.response[z].floorName;\n            floor[z].floorNum = result.response[z].floorNum;\n            floor[z].floorUrl = result.response[z].floorUrl;\n            floor[z].index = z;\n            //createFloorTab();\n            if (result.response[z].floorID == floorId) {\n              var floorMapUrl = result.response[z].floorUrl;\n\n              loadMap(mapUrl, floorMapUrl);\n\n              floorName = result.response[z].floorName;\n              BeefindMap.prototype.floor = floorName;\n              BeefindMap.prototype.floorId = floorId;\n\n              OlFloorIdIndex = floor[z].index;\n              $(\"#floorUl\").css('top', '-35' * z + 'px');\n              j = z;\n            }\n            ;//\n            console.log('crearteFloor');\n            crearteFloor(buildId, result.response[z].floorID, result.response[z].floorName, result.response[z].floorUrl, z);\n          };//for(var z);\n\n        }\n        ;//(result.result==0)\n\n      },//success\n      error: function (xhr, status, error) {\n        if (xhr.statusText == \"timeout\") {\n          //img.innerHTML=\"请求超时!\";\n          alert('请求超时!');\n        } else {\n          //img.innerHTML=\"服务器出错!\";\n          alert('服务器出错!');\n        }\n        ;\n      }\n    });//$.ajax\n\n  };//mapserveFloor\n//-----------------------------\n\n  var layer = new ol.layer.Tile({});\n  /*var source=new ol.source.TileWMS({\n      url:mapUrl,\n      //F0021B0002LX4\n      params:{'layers':configFloorUrl},\n      serverType:'geoserver'\n  });//*/\n//layer.setSource(source);\n//\n  var carLayer = new ol.layer.Vector({});\n  var sourceCar;\n  var sourceCarPoint;\n  var sourceEventCarPoint;\n  var carLayerPoint = new ol.layer.Vector({\n    //visible:false\n  });\n  var carLayerEventPoint = new ol.layer.Vector({\n    //visible:false\n  });\n// var  deviceSource=new ol.source.Vector();\n  var interPointLayer = new ol.layer.Vector({\n    // source:new ol.source.Vector()\n  });\n  //var screenLayer = new ol.layer.Vector({});\n//\n  var deviceLayer = new ol.layer.Vector({\n    // source:new ol.source.Vector()\n  });\n  //屏幕层\n  var screenLayer = new ol.layer.Vector({\n      source: new ol.source.Vector()\n  });\n  //Vip车位图标层\n  var vipIconLayer = new ol.layer.Vector({\n    source: new ol.source.Vector()\n  });\n\n//var sourceScreen=new ol.source.Vector({});\n\n  var addPointLayer = new ol.layer.Vector({});\n  var interactions = ol.interaction.defaults({\n    altShiftDragRotate: false,\n    pinchRotate: false\n  });\n  //\n  //console.log(OlWidth);\n\n//\n  var map = new ol.Map({\n    layers: [layer, carLayer, carLayerPoint, carLayerEventPoint, interPointLayer, deviceLayer, screenLayer, vipIconLayer, addPointLayer],\n    target: '',\n    interactions: interactions,\n    controls: ol.control.defaults({\n      attributionOptions: ({\n        collapsible: false\n      })\n    }),\n    view: new ol.View({\n      //center: ol.proj.transform([121.416118,31.218479],'EPSG:4326','EPSG:900913'),\n      center: [80, -80],\n      //ol.proj.transform(,EPSG:4326,EPSG:),\n      projection: 'EPSG:3857',\n      zoom: 10,\n      maxZoom: 14,\n      minZoom: 8.5,\n      extent:[0,-OlHeight,OlWidth,0]\n    }),\n    logo: false,\n    controls: ol.control.defaults({\n      attribution: false,\n      zoom: false\n    })\n  });\n//var map=new ol.Map({});\n//------------------------\n//nextFloor(是下一層)\n//beforeFloor(是上一層)\n//floorBarVisible(樓層控件是否顯示)\n\n  var BeefindMap = function (options) {\n    //extend方法\n    this.extend = function (obj, obj2) {\n      for (var k in obj2) {\n        obj[k] = obj2[k];\n      }\n      return obj;\n    };\n    this.options = this.extend({\n      \"target\": 'map',\n      \"city_id\": \"F0021\",//城市ID/\n      \"mapType\":'',//地图类型(默认是车位状态图)\n      \"floorUl\":'',\n      'urlLocal':'',//全局的url(p2p)\n      'timeDate':'',//初始化车位利用率时间端\n      \"build_id\": \"B0003\",//項目ID\n      \"floor_id\": \"\",//樓層Id\n      \"floor_num\": \"\",//樓層名\n      'url': \"http://139.196.5.153:8080\",//\n      'floorBarVisible': false,//樓層控件是否顯示,\n      \"carLayerVisible\": true,//:\n      \"carPortLayerVisible\": true,//:\n      \"interLayerVisible\": true,//:兴趣点层\n      \"deviceLayerVisible\": false,//设备层\n      'mapUrl': 'http://139.196.5.153:8181/geoserver/wms?'//地图服务器的url\n\n    }, options);\n    this.city_id = this.options.city_id;\n    this.build_id = this.options.build_id;\n    this.floor_id = this.options.floor_id;\n    this.floorName = 'M';\n    this.map = map;\n    this.setTime=function (date){\n       timeDate=date;\n       //console.log(timeDate);\n    };\n    this.target = function (date) {\n      this.map.setTarget(date);\n    };\n    //init方法;\n    this.init = function () {\n      var body = this.options.target;\n      floorUl = this.options.floorUl;\n      console.log(floorUl);\n      timeDate=this.options.timeDate;\n      //console.log(timeDate);\n      //console.log(timeDate.end_time);\n      OlBuildId=this.options.build_id;\n      OlFloorId=this.options.floor_id;\n      map.setTarget(this.options.target);\n      olMapType=this.options.mapType;\n      console.log('this.options.urlLocal==>'+this.options.urlLocal);\n      if(this.options.urlLocal==undefined){\n        localUrl='http://192.168.0.100:8421';\n      }else {\n        localUrl=this.options.urlLocal;\n      };\n      //\n      console.log(this.options.floor_id);\n      //\n      //buildParam(this.options.url, this.options.city_id, this.options.build_id, this.options.floor_id, this.options.mapUrl,this.options.mapType);\n      console.log('testUrl==>'+url);\n      console.log('mapUrl==>'+this.options.mapUrl);\n      console.log('localUrl==>'+localUrl);\n      mapserveFloor(url, '', this.options.build_id, this.options.floor_id, this.options.mapUrl,this.options.mapType);\n      //console.log(this.options.floorBarVisible);\n\n      if (this.options.floorBarVisible) {\n        $('#up').show();\n        $('#down').show();\n        $('#floor').show();\n      } else {\n        $('#up').hide();\n        $('#down').hide();\n        $('#floor').hide();\n      }\n      ;\n      if (this.options.carLayerVisible) {\n        carLayer.setVisible(true);\n      } else {\n        carLayer.setVisible(false);\n      }\n      ;\n      if (this.options.carPortLayerVisible) {\n        carLayerPoint.setVisible(true);\n      } else {\n        carLayerPoint.setVisible(false);\n      }\n      ;\n      if (this.options.interLayerVisible) {\n        interPointLayer.setVisible(true);\n      } else {\n        interPointLayer.setVisible(false);\n      }\n      ;\n      if (this.options.deviceLayerVisible) {\n        deviceLayer.setVisible(true);\n      } else {\n        deviceLayer.setVisible(false);\n      }\n      ;\n      //alert(\"x是\"+this.options.build_id+\" y是\"+this.options.floor_id+\" z是\"+this.options.floor_num);\n    };\n    this.nextFloor = function () {\n      downFloor();\n    };\n    this.beforeFloor = function () {\n      upFloor();\n    };\n    this.refreshUseCar=function () {\n      refreshUseCar()\n    };//\n    //\n    this.init();\n    //this.nextFloor();\n  };\n  //BeefindMap()类\n  //实现继承\n  BeefindMap.prototype = map;//继承OL实例\n  //:創建一個羅闊層\n  //添加方法\n  BeefindMap.constructor = BeefindMap;\n  //BeefindMap.prototype.floorName='M';\n\n  var CarLayer = function () {\n    this.build = build;\n  };//\n  //:\n\n  //暴漏方法:\n  // window.BeefindMap = BeefindMap;\n  //---------------------------\n  //:\n  /*var feature;\n  map.on('singleclick',function (event) {\n    console.log(event);\n    feature = map.forEachFeatureAtPixel(event.pixel, function(feature){\n      return feature;\n    });\n    if(feature) {\n      console.log(feature);\n\n    };//edit\n  });//*/\n//\n  map.on('moveend', function () {\n    var zoom = map.getView().getZoom();\n    //alert(zoom);\n    if (zoom > 9.7) {\n\n      if (zoom > 11) {\n\n        //console.log(carLayerPoint.getSource().getFeatures());\n\n        carLayerPoint.setVisible(true);\n        carLayerEventPoint.setVisible(false);\n      } else {\n        carLayerEventPoint.setVisible(true);\n        carLayerPoint.setVisible(false);\n      };\n\n    } else {\n      carLayerPoint.setVisible(false);\n      carLayerEventPoint.setVisible(false);\n    };\n\n  });\n//-----------------------\n  return {\n    BeefindMap: BeefindMap,\n    floorSuccess: floorSuccess,\n    getVideoUrl: getVideoUrl,\n    getCameraDate: getCameraDate,\n    upFloor: upFloor,\n    downFloor: downFloor,\n    refreshUseCar:refreshUseCar,\n    clearStateInter:clearStateInter,\n    addScreen:addScreen,//\n    addVipIcon:addVipIcon, //点击VIP车位时候，添加图标\n    screenCarColor:screenCarColor,//\n    resetCarColor:resetCarColor,//重置颜色\n    resetFeatureCarColor: resetFeatureCarColor, // 重置某个车位要素颜色\n    setVipCarColor:setVipCarColor, // vip车位颜色设置\n    findCarFeature:findCarFeature\n  }\n\n\n}());\n//\n\n//\n//\n\nexport {\n  module\n}\n\n\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./static/ol/findMapOOB.js\n// module id = yB3Q\n// module chunks = 0"],"sourceRoot":""}